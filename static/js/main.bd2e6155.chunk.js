(window.webpackJsonpbudget=window.webpackJsonpbudget||[]).push([[0],{100:function(e){e.exports=JSON.parse('{"__schema":{"types":[{"kind":"INPUT_OBJECT","name":"PlanInput","possibleTypes":[]},{"kind":"OBJECT","name":"Query","possibleTypes":[]},{"kind":"ENUM","name":"Severity","possibleTypes":[]},{"kind":"OBJECT","name":"MonthStillInProgress","possibleTypes":[]},{"kind":"OBJECT","name":"Category","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"ExpenseUpdate","possibleTypes":[]},{"kind":"SCALAR","name":"Date","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"TransferUpdate","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"ExpenseInput","possibleTypes":[]},{"kind":"SCALAR","name":"Amount","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"TransferInput","possibleTypes":[]},{"kind":"OBJECT","name":"Mutation","possibleTypes":[]},{"kind":"SCALAR","name":"Month","possibleTypes":[]},{"kind":"OBJECT","name":"Envelope","possibleTypes":[]},{"kind":"OBJECT","name":"Transfer","possibleTypes":[]},{"kind":"OBJECT","name":"Misplanned","possibleTypes":[]},{"kind":"SCALAR","name":"String","possibleTypes":[]},{"kind":"SCALAR","name":"ID","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"AccountUpdate","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"EnvelopeInput","possibleTypes":[]},{"kind":"OBJECT","name":"Budget","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"PlanUpdate","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"ExpenseCategoryInput","possibleTypes":[]},{"kind":"SCALAR","name":"Int","possibleTypes":[]},{"kind":"OBJECT","name":"EnvelopeOverLimit","possibleTypes":[]},{"kind":"OBJECT","name":"Expense","possibleTypes":[]},{"kind":"OBJECT","name":"ExpenseCategory","possibleTypes":[]},{"kind":"OBJECT","name":"NegativeBalanceOnEnvelope","possibleTypes":[]},{"kind":"INTERFACE","name":"Problem","possibleTypes":[{"name":"Misplanned"},{"name":"NegativeBalanceOnAccount"},{"name":"NegativeBalanceOnEnvelope"},{"name":"EnvelopeOverLimit"},{"name":"MonthStillInProgress"}]},{"kind":"SCALAR","name":"Float","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"AccountInput","possibleTypes":[]},{"kind":"OBJECT","name":"Plan","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"CategoryUpdate","possibleTypes":[]},{"kind":"OBJECT","name":"Account","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"EnvelopeUpdate","possibleTypes":[]},{"kind":"OBJECT","name":"MonthlyReport","possibleTypes":[]},{"kind":"OBJECT","name":"NegativeBalanceOnAccount","possibleTypes":[]},{"kind":"SCALAR","name":"Boolean","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"CategoryInput","possibleTypes":[]}]}}')},123:function(e,t,n){e.exports=n(196)},125:function(e,t,n){},126:function(e,t,n){},135:function(e,t,n){},141:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){"use strict";n.r(t);n(124),n(125),n(126);var a=n(26),r=n(0),c=n.n(r),o=n(39),l=n.n(o),i=n(17),u=n(18),s=n(75),d=n(48),m=n(25),b=n(104),p=n(105),f=n(121),v=(n(5),n(100)),g=n(29),E=n.n(g),h=n(9),y=n(8),O=n(101),j=n.n(O),D=function(){return window.history.replaceState({},document.title,window.location.pathname)},I=c.a.createContext(),w=function(){return Object(r.useContext)(I)},N=function(e){var t=e.children,n=e.onRedirectCallback,a=void 0===n?D:n,o=e.returnTo,l=Object(y.a)(e,["children","onRedirectCallback","returnTo"]),i=Object(r.useState)(),s=Object(h.a)(i,2),d=s[0],m=s[1],b=Object(r.useState)(),p=Object(h.a)(b,2),f=p[0],v=p[1],g=Object(r.useState)(),O=Object(h.a)(g,2),w=O[0],N=O[1],T=Object(r.useState)(),k=Object(h.a)(T,2),C=k[0],x=k[1],A=Object(r.useState)(!0),$=Object(h.a)(A,2),B=$[0],P=$[1],F=Object(r.useState)(!1),S=Object(h.a)(F,2),q=S[0],R=S[1];Object(r.useEffect)((function(){!function(){var e,t,n,r,c,o;E.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,E.a.awrap(j()(l));case 2:if(e=i.sent,x(e),!window.location.search.includes("code=")){i.next=10;break}return i.next=7,E.a.awrap(e.handleRedirectCallback());case 7:t=i.sent,n=t.appState,a(n);case 10:return i.next=12,E.a.awrap(e.isAuthenticated());case 12:if(r=i.sent,m(r),!r){i.next=23;break}return i.next=17,E.a.awrap(e.getUser());case 17:return c=i.sent,v(c),i.next=21,E.a.awrap(e.getTokenSilently());case 21:o=i.sent,N(o);case 23:P(!1);case 24:case"end":return i.stop()}}))}()}),[]);return c.a.createElement(I.Provider,{value:{token:w,isAuthenticated:d,user:f,loading:B,popupOpen:q,loginWithPopup:function(){var e,t,n=arguments;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},R(!0),a.prev=2,a.next=5,E.a.awrap(C.loginWithPopup(e));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),console.error(a.t0);case 10:return a.prev=10,R(!1),a.finish(10);case 13:return a.next=15,E.a.awrap(C.getUser());case 15:t=a.sent,v(t),m(!0);case 18:case"end":return a.stop()}}),null,null,[[2,7,10,13]])},handleRedirectCallback:function(){var e;return E.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return P(!0),t.next=3,E.a.awrap(C.handleRedirectCallback());case 3:return t.next=5,E.a.awrap(C.getUser());case 5:e=t.sent,P(!1),m(!0),v(e);case 9:case"end":return t.stop()}}))},getIdTokenClaims:function(){return C.getIdTokenClaims.apply(C,arguments)},loginWithRedirect:function(){return C.loginWithRedirect.apply(C,arguments)},getTokenSilently:function(){return C.getTokenSilently.apply(C,arguments)},getTokenWithPopup:function(){return C.getTokenWithPopup.apply(C,arguments)},logout:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return C.logout(Object(u.a)({},t,{returnTo:o}))},getTokenScopes:function(){var e,t,n,a,r=arguments;return E.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,E.a.awrap(C.getTokenSilently.apply(C,r));case 2:return e=c.sent,t=e.split(".")[1],n=JSON.parse(atob(t)),a=n.scope.split(" "),c.abrupt("return",a);case 7:case"end":return c.stop()}}))}}},t)},T=new s.b({introspectionQueryResultData:v});function k(e){var t="https://sjanota-budget.herokuapp.com/query",n=Object(f.a)({uri:t}),a=Object(b.a)((function(t,n){var a=n.headers;return{headers:Object(u.a)({},a,{authorization:e?"Bearer ".concat(e):""})}})),r=new s.a({fragmentMatcher:T}),c=Object(p.a)((function(e){var t=e.graphQLErrors,n=e.networkError;"production"!==Object({NODE_ENV:"production",PUBLIC_URL:"/budget-ui",REACT_APP_GQL_URL:"https://sjanota-budget.herokuapp.com/query"}).REACT_APP_ENV&&(t&&t.map((function(e){var t=e.message,n=e.locations,a=e.path;return console.log("[GraphQL error]: Message: ".concat(t,", Location: ").concat(n,", Path: ").concat(a))})),n&&console.log("[Network error]: ".concat(n)))})),o=a.concat(n);return new d.c({uri:t,cache:r,link:m.a.from([c,o]),connectToDevTools:!0})}function C(e){var t=e.children,n=w(),o=n.isAuthenticated,l=n.loading,i=n.loginWithRedirect,u=n.token;return Object(r.useEffect)((function(){l||o||i({})}),[o,i,l]),l?c.a.createElement("div",null,"Loading..."):o&&u?c.a.createElement(a.a,{client:k(u)},t):c.a.createElement("div",null)}var x=n(76),A=n(42),$={buttons:{create:"Dodaj",cancel:"Anuluj",save:"Zapisz"},sidebar:{sections:{currentMonth:"Bie\u017c\u0105cy miesi\u0105c",budget:"Bud\u017cet"},pages:{dashboard:"Podsumowanie",expenses:"Wydatki",transfers:"Przelewy",plans:"Plany",accounts:"Konta",envelopes:"Koperty"}},topbar:{budgetLabel:"Bud\u017cet",alertsLabel:"Powiadomienia",messagesLabel:"Wiadomo\u015bci"},dashboard:{planned:"Zaplanowano",incomes:"Wp\u0142ywy",leftToPlan:"Pozosta\u0142o do zaplanowania",expenses:"Wydatki",currentMonth:"Bie\u017c\u0105cy miesi\u0105c",noProblems:"Wszystko w porz\u0105dku",problems:{title:"Problemy",overplanned:"Plany na bie\u017c\u0105cy miesi\u0105c przekraczaj\u0105 wp\u0142ywy",underplanned:"Cz\u0119\u015b\u0107 \u015brodk\xf3w jest nierozplanowana",expensesExceedPlans:function(e){return'Wydatki przekroczy\u0142y zaplanowany bud\u017cet na kopercie "'.concat(e,'"')},envelopeOverLimit:function(e){return'Limit dla koperty "'.concat(e,'" zosta\u0142 przekroczony')},negativeAccountBalance:function(e){return'Bilans na koncie "'.concat(e,'" jest ujemny')},monthNotEnded:"Miesi\u0105c si\u0119 jeszcze nie sko\u0144czy\u0142"},buttons:{closeMonth:"Zamknij miesi\u0105c"}},accounts:{table:{title:"Konta",columns:{balance:"Bilans",name:"Nazwa"}},expensesTableTitle:"Wydatki",inTransfersTableTitle:"Przelewy przychodz\u0105ce",outTransfersTableTitle:"Przelewy wychodz\u0105ce",modal:{createTitle:"Dodaj nowe konto",editTitle:"Edytuj konto",labels:{name:"Nazwa"}}},envelopes:{table:{title:"Koperty",columns:{balance:"Bilans",name:"Nazwa",limit:"Limit",overLimit:"Ponad limit"}},expensesTableTitle:"Wydatki",inPlansTableTitle:"Plany przychodz\u0105ce",outPlansTableTitle:"Plany wychodz\u0105ce",modal:{createTitle:"Dodaj now\u0105 kopert\u0119",editTitle:"Edytuj kopert\u0119",labels:{name:"Nazwa",limit:"Limit"}}},categories:{table:{title:"Kategorie",columns:{name:"Nazwa",envelope:"Koperta",description:"Opis"}},modal:{createTitle:"Dodaj now\u0105 kategori\u0119",editTitle:"Edytuj kategori\u0119",labels:{name:"Nazwa",envelope:"Koperta",description:"Opis"}}},plans:{table:{title:"Plany",columns:{title:"Tytu\u0142",fromEnvelope:"Z",toEnvelope:"Do",currentAmount:"Kwota"}},modal:{createTitle:"Dodaj nowy plan",editTitle:"Edytuj plan",labels:{title:"Tytu\u0142",fromEnvelope:"Z",toEnvelope:"Do",amount:"Kwota",recurring:"Cyklicznie"}}},transfers:{table:{title:"Przelewy",columns:{title:"Tytu\u0142",fromAccount:"Z",toAccount:"Do",amount:"Kwota",date:"Data"}},modal:{createTitle:"Dodaj nowy przelew",editTitle:"Edytuj przelew",labels:{title:"Tytu\u0142",fromAccount:"Z",toAccount:"Do",amount:"Kwota",date:"Data"}}},expenses:{table:{title:"Wydatki",columns:{title:"Tytu\u0142",totalAmount:"Kwota",date:"Data",account:"Konto"}},modal:{createTitle:"Dodaj nowy wydatek",editTitle:"Edytuj wydatek",labels:{title:"Tytu\u0142",fromAccount:"Z",toAccount:"Do",account:"Konto",date:"Data",categories:"Kategorie",amount:"Kwota",category:"Kategoria"}}},months:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"]},B=n(14),P=n(46),F=n(47),S=n(204),q=function(){function e(){Object(P.a)(this,e)}return Object(F.a)(e,null,[{key:"parse",value:function(e){if(null===e||""===e)return null;var t=S.a(e.replace(/,/g,"."));return Math.round(100*t)}},{key:"isValid",value:function(e){if(null===e||""===e)return!0;try{return S.b(e.replace(/,/g,".")),!0}catch(t){return!1}}},{key:"zero",value:function(){return 0}},{key:"format",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(null===e)return null;var n=(e/100).toFixed(2);if(!t)return n;var a=n.split(".");return a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),a.join(".")}},{key:"prettyFormat",value:function(t){return null===t?"-":e.format(t,!0)}}]),e}(),R=n(16),M=n(20),_=n(12),z=n(13),L=n.n(z),U=n(15);function J(e,t){var n=e.findIndex((function(e){return e.id===t}));return-1===n?e:[].concat(Object(R.a)(e.slice(0,n)),Object(R.a)(e.slice(n+1,e.length)))}function Q(){var e=Object(_.a)(["\n  mutation UpdateEnvelope($budgetID: ID!, $id: ID!, $input: EnvelopeUpdate!) {\n    updateEnvelope(budgetID: $budgetID, id: $id, in: $input) {\n      id\n      name\n      balance\n      limit\n    }\n  }\n"]);return Q=function(){return e},e}function V(){var e=Object(_.a)(["\n  mutation CreateEnvelope($budgetID: ID!, $input: EnvelopeInput!) {\n    createEnvelope(budgetID: $budgetID, in: $input) {\n      id\n      name\n      balance\n      limit\n    }\n  }\n"]);return V=function(){return e},e}function W(){var e=Object(_.a)(["\n  query GetEnvelopes($budgetID: ID!) {\n    envelopes(budgetID: $budgetID) {\n      id\n      name\n      balance\n      limit\n    }\n  }\n"]);return W=function(){return e},e}var H=L()(W()),G=L()(V()),K=L()(Q());function Z(){var e=ze().selectedBudget;return Object(U.b)(H,{variables:{budgetID:e.id}})}function Y(){var e=Object(_.a)(["\n  query GetMonthlyReport($budgetID: ID!, $month: Month!) {\n    monthlyReport(budgetID: $budgetID, month: $month) {\n      ...MonthlyReport\n    }\n  }\n  ","\n"]);return Y=function(){return e},e}function X(){var e=Object(_.a)(["\n  fragment MonthlyReport on MonthlyReport {\n    month\n    totalPlannedAmount\n    totalIncomeAmount\n    totalExpenseAmount\n    problems {\n      severity\n      ... on EnvelopeOverLimit {\n        id\n      }\n      ... on NegativeBalanceOnAccount {\n        id\n      }\n      ... on NegativeBalanceOnEnvelope {\n        id\n      }\n      ... on Misplanned {\n        overplanned\n      }\n    }\n  }\n"]);return X=function(){return e},e}var ee=L()(X()),te=L()(Y(),ee);function ne(){var e=Object(_.a)(["\n  mutation deleteExpense($budgetID: ID!, $id: ID!) {\n    deleteExpense(budgetID: $budgetID, id: $id) {\n      id\n    }\n  }\n"]);return ne=function(){return e},e}function ae(){var e=Object(_.a)(["\n  mutation updateExpense($budgetID: ID!, $id: ID!, $input: ExpenseUpdate!) {\n    updateExpense(budgetID: $budgetID, id: $id, in: $input) {\n      ...Expense\n    }\n  }\n\n  ","\n"]);return ae=function(){return e},e}function re(){var e=Object(_.a)(["\n  mutation createExpense($budgetID: ID!, $input: ExpenseInput!) {\n    createExpense(budgetID: $budgetID, in: $input) {\n      ...Expense\n    }\n  }\n\n  ","\n"]);return re=function(){return e},e}function ce(){var e=Object(_.a)(["\n  query getExpenses($budgetID: ID!, $month: Month!) {\n    monthlyReport(budgetID: $budgetID, month: $month) {\n      expenses {\n        ...Expense\n      }\n    }\n  }\n\n  ","\n"]);return ce=function(){return e},e}function oe(){var e=Object(_.a)(["\n  fragment Expense on Expense {\n    id\n    title\n    account {\n      id\n      name\n    }\n    categories {\n      category {\n        id\n        name\n      }\n      amount\n    }\n    totalAmount\n    date\n  }\n"]);return oe=function(){return e},e}var le=L()(oe()),ie=L()(ce(),le),ue=L()(re(),le),se=L()(ae(),le);function de(){var e=ze().selectedBudget,t=Object(U.a)(se,{refetchQueries:function(){return[{query:Ge,variables:{budgetID:e.id}},{query:H,variables:{budgetID:e.id}},{query:te,variables:{budgetID:e.id,month:e.currentMonth.month}}]}}),n=Object(M.a)(t),a=n[0],r=n.slice(1);return[function(t,n){a({variables:{budgetID:e.id,id:t,input:n}})}].concat(Object(R.a)(r))}var me=L()(ne());function be(){var e=ze().selectedBudget,t=Object(U.a)(me,{update:function(t,n){var a=n.data.deleteExpense,r=t.readQuery({query:ie,variables:{budgetID:e.id,month:e.currentMonth.month}}).monthlyReport;t.writeQuery({query:ie,variables:{budgetID:e.id,month:e.currentMonth.month},data:{monthlyReport:Object(u.a)({},r,{expenses:J(r.expenses,a.id)})}})},refetchQueries:function(){return[{query:Ge,variables:{budgetID:e.id}},{query:H,variables:{budgetID:e.id}},{query:te,variables:{budgetID:e.id,month:e.currentMonth.month}}]}}),n=Object(M.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,id:t}})}].concat(Object(R.a)(r))}function pe(){var e=Object(_.a)(["\n  mutation deletePlan($budgetID: ID!, $id: ID!) {\n    deletePlan(budgetID: $budgetID, id: $id) {\n      id\n    }\n  }\n"]);return pe=function(){return e},e}function fe(){var e=Object(_.a)(["\n  mutation updatePlan($budgetID: ID!, $id: ID!, $input: PlanUpdate!) {\n    updatePlan(budgetID: $budgetID, id: $id, in: $input) {\n      ...Plan\n    }\n  }\n  ","\n"]);return fe=function(){return e},e}function ve(){var e=Object(_.a)(["\n  mutation createPlan($budgetID: ID!, $input: PlanInput!) {\n    createPlan(budgetID: $budgetID, in: $input) {\n      ...Plan\n    }\n  }\n  ","\n"]);return ve=function(){return e},e}function ge(){var e=Object(_.a)(["\n  query getCurrentPlans($budgetID: ID!) {\n    budget(budgetID: $budgetID) {\n      currentMonth {\n        plans {\n          ...Plan\n        }\n      }\n    }\n  }\n  ","\n"]);return ge=function(){return e},e}function Ee(){var e=Object(_.a)(["\n  fragment Plan on Plan {\n    id\n    title\n    fromEnvelope {\n      id\n      name\n    }\n    toEnvelope {\n      id\n      name\n    }\n    currentAmount\n    recurringAmount\n  }\n"]);return Ee=function(){return e},e}var he=L()(Ee()),ye=L()(ge(),he);var Oe=L()(ve(),he);var je=L()(fe(),he);var De=L()(pe());function Ie(){var e=Object(_.a)(["\n  mutation deleteTransfer($budgetID: ID!, $id: ID!) {\n    deleteTransfer(budgetID: $budgetID, id: $id) {\n      id\n    }\n  }\n"]);return Ie=function(){return e},e}function we(){var e=Object(_.a)(["\n  mutation updateTransfer($budgetID: ID!, $id: ID!, $input: TransferUpdate!) {\n    updateTransfer(budgetID: $budgetID, id: $id, in: $input) {\n      ...Transfer\n    }\n  }\n  ","\n"]);return we=function(){return e},e}function Ne(){var e=Object(_.a)(["\n  mutation createTransfer($budgetID: ID!, $input: TransferInput!) {\n    createTransfer(budgetID: $budgetID, in: $input) {\n      ...Transfer\n    }\n  }\n  ","\n"]);return Ne=function(){return e},e}function Te(){var e=Object(_.a)(["\n  query getTransfers($budgetID: ID!, $month: Month!) {\n    monthlyReport(budgetID: $budgetID, month: $month) {\n      transfers {\n        ...Transfer\n      }\n    }\n  }\n  ","\n"]);return Te=function(){return e},e}function ke(){var e=Object(_.a)(["\n  query getCurrentTransfers($budgetID: ID!) {\n    budget(budgetID: $budgetID) {\n      currentMonth {\n        transfers {\n          ...Transfer\n        }\n      }\n    }\n  }\n  ","\n"]);return ke=function(){return e},e}function Ce(){var e=Object(_.a)(["\n  fragment Transfer on Transfer {\n    id\n    title\n    fromAccount {\n      id\n      name\n    }\n    toAccount {\n      id\n      name\n    }\n    amount\n    date\n  }\n"]);return Ce=function(){return e},e}var xe=L()(Ce()),Ae=L()(ke(),xe),$e=L()(Te(),xe);var Be=L()(Ne(),xe);var Pe=L()(we(),xe);function Fe(){var e=ze().selectedBudget,t=Object(U.a)(Pe,{refetchQueries:function(){return[{query:Ge,variables:{budgetID:e.id}},{query:te,variables:{budgetID:e.id,month:e.currentMonth.month}}]}}),n=Object(M.a)(t),a=n[0],r=n.slice(1);return[function(t,n){a({variables:{budgetID:e.id,id:t,input:n}})}].concat(Object(R.a)(r))}var Se=L()(Ie());function qe(){var e=ze().selectedBudget,t=Object(U.a)(Se,{update:function(t,n){var a=n.data.deleteTransfer,r=t.readQuery({query:$e,variables:{budgetID:e.id,month:e.currentMonth.month}}).monthlyReport;t.writeQuery({query:$e,variables:{budgetID:e.id,month:e.currentMonth.month},data:{monthlyReport:Object(u.a)({},r,{transfers:J(r.transfers,a.id)})}})},refetchQueries:function(){return[{query:Ge,variables:{budgetID:e.id}},{query:te,variables:{budgetID:e.id,month:e.currentMonth.month}}]}}),n=Object(M.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,id:t}})}].concat(Object(R.a)(r))}function Re(){var e=Object(_.a)(["\n  mutation closeMonth($budgetID: ID!) {\n    closeCurrentMonth(budgetID: $budgetID) {\n      id\n    }\n  }\n"]);return Re=function(){return e},e}function Me(){var e=Object(_.a)(["\n  query GetBudgets {\n    budgets {\n      id\n      name\n      currentMonth {\n        month\n      }\n    }\n  }\n"]);return Me=function(){return e},e}var _e=Object(r.createContext)(),ze=function(){return Object(r.useContext)(_e)},Le=L()(Me()),Ue="LAST-CHOSEN-BUDGET-ID";function Je(e){var t=e.children,n=Object(r.useState)(null),a=Object(h.a)(n,2),o=a[0],l=a[1],i=Object(U.b)(Le),u=i.loading,s=i.error,d=i.data;Object(r.useEffect)((function(){o&&sessionStorage.setItem(Ue,o.id)}),[o]),Object(r.useEffect)((function(){if(!o&&d&&d.budgets){var e=sessionStorage.getItem(Ue),t=d.budgets.find((function(t){return t.id===e}));t&&l(t)}}),[d,o]);var m={selectedBudget:o,setSelectedBudget:l,loading:u,error:s,budgets:u||s?[]:d.budgets};return s&&console.error(s),c.a.createElement(_e.Provider,{value:m},t)}var Qe=L()(Re());function Ve(){var e=Object(_.a)(["\n  mutation UpdateAccount($budgetID: ID!, $id: ID!, $input: AccountUpdate!) {\n    updateAccount(budgetID: $budgetID, id: $id, in: $input) {\n      id\n      name\n      balance\n    }\n  }\n"]);return Ve=function(){return e},e}function We(){var e=Object(_.a)(["\n  mutation CreateAccount($budgetID: ID!, $input: AccountInput!) {\n    createAccount(budgetID: $budgetID, in: $input) {\n      id\n      name\n      balance\n    }\n  }\n"]);return We=function(){return e},e}function He(){var e=Object(_.a)(["\n  query GetAccounts($budgetID: ID!) {\n    accounts(budgetID: $budgetID) {\n      id\n      name\n      balance\n    }\n  }\n"]);return He=function(){return e},e}var Ge=L()(He());function Ke(){var e=ze().selectedBudget;return Object(U.b)(Ge,{variables:{budgetID:e.id}})}var Ze=L()(We());var Ye=L()(Ve());n(135);var Xe=n(4),et=n.n(Xe),tt=n(206),nt=n(115),at=n(114),rt=n(200);function ct(e){var t=e.disabled,n=e.allowedValues,a=e._ref,o=e.defaultValue,l=e.className,i=e.required,u=e["aria-label"],s=e.variant,d=void 0===s?"secondary":s;e.prependLabel;function m(e){return n.find((function(t){return t.id===e}))}var b=Object(r.useCallback)((function(e){return n.find((function(t){return t.label===e}))}),[n]),p=Object(r.useState)(!1),f=Object(h.a)(p,2),v=f[0],g=f[1],E=o?m(o):{label:""},O=Object(r.useState)(E?E.label:""),j=Object(h.a)(O,2),D=j[0],I=j[1],w=Object(r.useRef)(),N=D?n.filter((function(e){return e.label.toLowerCase().includes(D.toLowerCase())})):n;function T(e){var t=e.target.value;I(t);var n=b(t);n&&a?a.current={value:n.id}:g(!0)}return Object(r.useEffect)((function(){a&&(a.current={value:o})}),[a,o]),Object(r.useEffect)((function(){function e(e){(function(e){return!w.current||w.current.contains(e.target)})(e)||(g(!1),b(D)||I(""))}return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[D,b]),c.a.createElement(tt.a,{ref:w,show:v,onToggle:function(e){g(e)},className:et()("combobox",l)},c.a.createElement(tt.a.Toggle,{as:ot},(function(e){var n=e.className,a=Object(y.a)(e,["className"]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(nt.a,{value:D,type:"text",onChange:T,disabled:t,required:i,"aria-label":u}),c.a.createElement(at.a,Object.assign({variant:d,className:et()("dropdown-toggle-split","no-arrow",n),tabIndex:-1,disabled:t,type:"button"},a)))})),c.a.createElement(tt.a.Menu,null,N.map((function(e){return c.a.createElement(tt.a.Item,{eventKey:e.id,key:e.id,onClick:function(){return function(e){var t=m(e);t&&I(t.label),a&&(a.current={value:e})}(e.id)}},e.label)}))))}var ot=Object(r.forwardRef)((function(e,t){var n=e.children,a=Object(y.a)(e,["children"]);return c.a.createElement(rt.a,{ref:t},n(a))})),lt=n(22),it=n(55);function ut(e){var t,n=e.icon,a=e.variant,r=e.className,o=e.onClick,l=e.borderless,i=e.size,u=Object(y.a)(e,["icon","variant","className","onClick","borderless","size"]),s=l?"text":"btn",d=et()("btn",r,(t={},Object(lt.a)(t,"".concat(s,"-").concat(a),a),Object(lt.a)(t,"".concat(s,"-").concat(i),i),Object(lt.a)(t,"bg-transparent",l),Object(lt.a)(t,"border-0",l),Object(lt.a)(t,"p-0",l),Object(lt.a)(t,"mx-1",l),t));return c.a.createElement("button",Object.assign({className:d,onClick:function(e){e.preventDefault(),o&&o(e)}},u),c.a.createElement(it.a,{icon:n}))}var st=n(205);function dt(e){var t=e.button,n=e.modalContent,a=Object(y.a)(e,["button","modalContent"]),o=Object(r.useState)(!1),l=Object(h.a)(o,2),i=l[0],u=l[1],s=function(){return u(!1)};return c.a.createElement("span",{onClick:function(e){return e.stopPropagation()}},c.a.createElement(t,{onClick:function(){return u(!0)}}),c.a.createElement(st.a,Object.assign({show:i,onHide:s},a),c.a.createElement(n,{onHide:s})))}var mt=n(208),bt=c.a.createContext();function pt(e){var t=e.user,n=e.logout,a=e.children,o=Object(r.useState)(!1),l=Object(h.a)(o,2),i=l[0],u=l[1];return c.a.createElement(bt.Provider,{value:{sidebarToggled:i,user:t,logout:n,toggleSidebar:function(){return u((function(e){return!e}))}}},a)}var ft=function(){return Object(r.useContext)(bt)};var vt=Object(r.createContext)();function gt(e){var t=e.dictionaries,n=e.children,a=ft().user;return c.a.createElement(vt.Provider,{value:t[a.locale]},n)}var Et=function(){return Object(r.useContext)(vt)};function ht(e,t,n){return function(a){var r,o=a[n=n||"read".concat((r=e).charAt(0).toUpperCase()+r.slice(1))],l=Object(u.a)({},a);delete l[n];var i=Et();return o&&(l[e]=o(i)),c.a.createElement(t,l)}}var yt=ht("text",(function(e){var t=e.text,n=Object(y.a)(e,["text"]);return c.a.createElement("li",{className:"breadcrumb-item"},c.a.createElement(i.b,n,t))}));var Ot=ht("title",(function(e){var t=e.children,n=e.title,a=e.actions,r=e.breadcrumbs;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"h3 text-gray-800 d-flex justify-content-between"},c.a.createElement("span",null,n,a),t&&c.a.createElement("div",null,t)),c.a.createElement(mt.a,{listProps:{className:"bg-transparent pl-0 pt-0"}},r&&r.map((function(e){return c.a.createElement(yt,Object.assign({as:i.b,key:e.to},e))})),c.a.createElement(mt.a.Item,{active:!0},n)))}));function jt(e){var t=e.children;return c.a.createElement("div",{className:"container-fluid d-flex flex-column"},t)}jt.Header=Ot;n(141);var Dt=ht("title",(function(e){var t=e.children,n=e.title,a=e.className,r=et()("m-0","font-weight-bold","text-primary",a);return c.a.createElement("h6",{className:r},t,n)}));function It(e){var t=e.children,n=e.className;return c.a.createElement("div",{className:et()("card","shadow","mb-4",n,"overflow-hidden")},t)}function wt(e){var t,n=e.icon,a=e.variant,r=e.size,o=e.className,l=e.disabled,i=e._ref,u=e.children,s=Object(y.a)(e,["icon","variant","size","className","disabled","_ref","children"]),d=et()("btn","btn-icon-split",o,(t={disabled:l},Object(lt.a)(t,"btn-".concat(r),r),Object(lt.a)(t,"btn-".concat(a),a),t));return c.a.createElement("button",Object.assign({className:d,disabled:l,ref:i,"aria-label":u},s),c.a.createElement("span",{className:"icon text-white-50"},c.a.createElement(it.a,{icon:n})),c.a.createElement("span",{className:"text"},u))}It.Title=Dt,It.Header=function(e){var t=e.className,n=Object(y.a)(e,["className"]);return c.a.createElement("div",Object.assign({className:et()(t,"card-header")},n))},It.Body=function(e){var t=e.className,n=e.children;return c.a.createElement("div",{className:et()(t,"card-body","panel-body")},n)};var Nt=n(119),Tt=n.n(Nt);function kt(e,t){return e.map((function(e){return Object(u.a)({},e,{text:t[e.dataField]||""})}))}var Ct=ht("columnNames",(function(e){var t=e.columns,n=e.columnNames,a=Object(y.a)(e,["columns","columnNames"]);return c.a.createElement(Tt.a,Object.assign({bootstrap4:!0,columns:kt(t,n)},a))}));function xt(e){var t=e.title,n=e.columns,a=e.headerButtons,r=e.panelClassName,o=e.wrapper,l=e.wrapperProps,i=e.hiddenColumns,s=e.visibleColumns,d=e.data,m=e.filters,b=e.onSelect,p=e.selected,f=e.mappers,v=void 0===f?[]:f,g=Object(y.a)(e,["title","columns","headerButtons","panelClassName","wrapper","wrapperProps","hiddenColumns","visibleColumns","data","filters","onSelect","selected","mappers"]),E=b?{mode:"radio",clickToSelect:!0,hideSelectColumn:!0,classes:"text-white bg-primary selected",onSelect:b,selected:p?[p]:[]}:void 0;function h(e){var t=i&&i.some((function(t){return e.dataField===t})),n=s&&s.some((function(t){return e.dataField===t}));return t||s&&!n}var O=[Object(u.a)({},n[0],{classes:"pl-3",headerClasses:"pl-3"})].concat(Object(R.a)(n.slice(1,n.length))).map((function(e){return Object(u.a)({},e,{hidden:h(e)})}));var j=d.filter((function(e){return function(e){return m.every((function(t){return t(e)}))}(e)})),D=v.reduce((function(e,t){return e.map(t)}),j);return c.a.createElement(o,Object.assign({className:r},l),c.a.createElement(o.Header,{className:"p-2 pl-3"},c.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},c.a.createElement(o.Title,{title:t,className:"table-panel--title"}),c.a.createElement("div",null,a))),c.a.createElement(o.Body,{className:"p-0"},c.a.createElement(Ct,Object.assign({classes:"table-layout-auto table-sm m-0",striped:!0,hover:!0,bordered:!1,columns:O,data:D,selectRow:E},g))))}xt.defaultProps={wrapper:It,wrapperProps:{},hiddenColumns:[],filters:[]};var At=ht("title",xt);n(187);function $t(){return c.a.createElement(jt,null,c.a.createElement("div",{className:"text-center"},c.a.createElement("div",{className:"error mx-auto","data-text":"404"},"404"),c.a.createElement("p",{className:"lead text-gray-800 mb-5"},"Page Not Found"),c.a.createElement("p",{className:"text-gray-500 mb-0"},"It looks like you found a glitch in the matrix..."),c.a.createElement(i.b,{to:"/"},"\u2190 Back to Dashboard")))}function Bt(e){var t=e.name,n=e.parent,a=e.sections,r=e.faIcon,o=function(e,t){return e.some((function(e){return e.routes.some((function(e){var n=e.to;return t.pathname===n}))}))}(a,Object(A.g)()),l=et()("nav-item",{active:o}),u="sidebar--"+t,s=et()("fas","fa-fw","fa-".concat(r));return c.a.createElement("li",{className:l},c.a.createElement("span",{className:"nav-link collapsed","data-toggle":"collapse","data-target":"#"+u,"aria-expanded":"true","aria-controls":u},c.a.createElement("i",{className:s}),c.a.createElement("span",null,t)),c.a.createElement("div",{id:u,className:"collapse","data-parent":"#"+n},c.a.createElement("div",{className:"bg-white py-2 collapse-inner rounded"},a.map((function(e){var t=e.name,n=e.routes;return c.a.createElement(c.a.Fragment,{key:t},c.a.createElement("h6",{className:"collapse-header"},t,":"),n.map((function(e){var t=e.to,n=e.label;return c.a.createElement(i.c,{key:n,className:"collapse-item",to:t},n)})))})))))}function Pt(e){var t=e.name,n=e.to,a=e.faIcon,r=et()("fas","fa-fw","fa-".concat(a));return c.a.createElement("li",{className:"nav-item"},c.a.createElement(i.c,{className:"nav-link",exact:!0,to:n},c.a.createElement("i",{className:r}),c.a.createElement("span",null,t)))}function Ft(e){var t=e.group;return c.a.createElement(c.a.Fragment,null,c.a.createElement("hr",{className:"sidebar-divider my-1"}),t.name&&c.a.createElement("div",{className:"sidebar-heading"},t.name),t.entries.map((function(e){return void 0!==e.to?c.a.createElement(Pt,Object.assign({key:e.name},e)):c.a.createElement(Bt,Object.assign({key:e.name,parent:"accordionSidebar"},e))})))}n(188);function St(e){var t=e.renderBrandName,n=e.renderBrandIcon,a=e.config,r=ft(),o=r.sidebarToggled,l=r.toggleSidebar,u=et()("navbar-nav","bg-gradient-primary","sidebar","sidebar-dark","accordion",{toggled:o});return c.a.createElement("ul",{className:u,id:"accordionSidebar"},c.a.createElement(i.b,{className:"sidebar-brand d-flex align-items-center justify-content-center",to:"/"},c.a.createElement("div",{className:"sidebar-brand-icon rotate-n-15"},n()),c.a.createElement("div",{className:"sidebar-brand-text mx-3"},t())),a.map((function(e,t){return c.a.createElement(Ft,{key:e.name||t,group:e})})),c.a.createElement("hr",{className:"sidebar-divider d-none d-md-block"}),c.a.createElement("div",{className:"text-center d-none d-md-inline"},c.a.createElement("button",{className:"rounded-circle border-0",id:"sidebarToggle",onClick:l})))}function qt(e){var t=e.sidebarProps,n=e.topbar,a=e.user,r=e.logout,o=e.children,l=e.dictionaries,i=e.copyright,u=n;return c.a.createElement(pt,{user:a,logout:r},c.a.createElement(gt,{dictionaries:l},c.a.createElement("div",{id:"wrapper"},c.a.createElement(St,t),c.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},c.a.createElement(u,null),c.a.createElement("div",{id:"content"},c.a.createElement(A.c,null,o,c.a.createElement(A.a,{component:$t}))))),c.a.createElement("footer",{className:"sticky-footer bg-white"},c.a.createElement("div",{className:"container my-auto"},c.a.createElement("div",{className:"copyright text-center my-auto"},c.a.createElement("span",null,"Copyright \xa9 ",i))))))}var Rt=n(207),Mt=n(201),_t=n(120);function zt(e){var t=e.label,n=e.inline,a=Object(y.a)(e,["label","inline"]);return c.a.createElement(Rt.a.Group,{className:"mb-3",as:!!n&&Mt.a},c.a.createElement(Rt.a.Label,{column:!!n},t),c.a.createElement(zt.Input,Object.assign({inline:n},a)))}zt.Input=function(e){var t=e.inline,n=e.formData,a=e.feedback,r=e.children,o=Object(y.a)(e,["inline","formData","feedback","children"]),l=t?function(e){return c.a.createElement(_t.a,{sm:t},e)}:function(e){return e},i=r||c.a.createElement(Rt.a.Control,Object.assign({ref:n,defaultValue:n.default()},o));return l(c.a.createElement(c.a.Fragment,null,i,c.a.createElement(Rt.a.Control.Feedback,{type:"invalid"},a)))},zt.defaultProps={inline:0};var Lt={secondary:"secondary",primary:"primary",danger:"danger",success:"success",warning:"warning",white:"white"},Ut={sm:"sm",lg:"lg"};function Jt(e){var t=Et().buttons;return c.a.createElement(wt,Object.assign({variant:Lt.secondary,icon:B.j,size:Ut.sm,type:"button"},e),t.cancel)}function Qt(e){var t=Et().buttons;return c.a.createElement(wt,Object.assign({icon:B.h,size:Ut.sm,variant:Lt.primary,type:"submit"},e),t.save)}function Vt(e){var t=e.title,n=e.onHide,a=e.onSave,o=e.formData,l=e.children,i=Object(r.useState)(!1),u=Object(h.a)(i,2),s=u[0],d=u[1],m=Object(r.useRef)();function b(e){e.preventDefault(),e.stopPropagation();var t=m.current.checkValidity();if(d(!0),t){if(o.changed()){var r=o.value();a(r)}n(),d(!1)}}return Object(r.useEffect)((function(){if(m.current){var e=m.current.getElementsByTagName("input")[0];e&&e.focus()}}),[]),c.a.createElement(Rt.a,{validated:s,ref:m,onSubmit:b},c.a.createElement(st.a.Header,{closeButton:!0,className:"m-0 font-weight-bold text-primary bg-light"},c.a.createElement(st.a.Title,null,t)),c.a.createElement(st.a.Body,null,l),c.a.createElement(st.a.Footer,{className:" bg-light"},c.a.createElement(Jt,{onClick:n}),c.a.createElement(Qt,{onClick:b})))}var Wt=n(56);var Ht=ht("fieldNames",(function(e){var t=e.entity,n=e.columns,a=e.fieldNames;return c.a.createElement("div",{className:"mb-3"},c.a.createElement("div",{className:"pl-2"},n.map((function(e){return c.a.createElement(Gt,{key:e.dataField,name:a[e.dataField],value:e.formatter?e.formatter(t[e.dataField],t):t[e.dataField]})}))))}));function Gt(e){var t=e.name,n=e.value;return c.a.createElement("p",{className:"my-0"},c.a.createElement("strong",null,t,":")," ",n)}function Kt(e){return c.a.createElement(ut,Object.assign({icon:B.i,size:Ut.sm,variant:Lt.secondary,type:"button"},e))}function Zt(e){var t,n=e.size,a=e.variant,r=et()("spinner-border",(t={},Object(lt.a)(t,"spinner-border-".concat(n),n),Object(lt.a)(t,"text-".concat(a),a),t));return c.a.createElement("div",{className:r,role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading..."))}function Yt(e){var t=e.errorMessage,n=e.subErrors;return c.a.createElement(c.a.Fragment,null,t,c.a.createElement("ul",null,n.map((function(e,t){return c.a.createElement("li",{key:t},e)}))))}function Xt(e){var t=e.error,n=t.networkError?t.networkError.result?t.networkError.result.errors:["".concat(t.networkError)]:t.graphQLErrors.map((function(e){return"".concat(e.path.join("."),": ").concat(e.message)}));return console.error(t),c.a.createElement("div",{className:"text-danger"},c.a.createElement("i",{className:"fas fa-fw fa-exclamation-triangle"}),c.a.createElement(Yt,{errorMessage:t.message,subErrors:n}))}function en(e){var t=e.query,n=e.showError,a=e.children,r=Object(y.a)(e,["query","showError","children"]),o=t.loading,l=t.error;return o?c.a.createElement(Zt,r):l?n&&c.a.createElement(Xt,{error:l}):a(t)}function tn(e){var t=e.query,n=e.buttons,a=e.getData,r=Object(y.a)(e,["query","buttons","getData"]);return c.a.createElement(en,{query:t,size:"sm",showError:!1},(function(e){var t=e.refetch,o=e.data;return c.a.createElement(At,Object.assign({headerButtons:c.a.createElement(c.a.Fragment,null,c.a.createElement(Kt,{onClick:function(){return t()},className:"mr-1"}),n),data:a(o)},r))}))}function nn(e){var t=e.basePath,n=e.createButton,a=e.name,r=e.columns,o=e.renderActions,l=Object(y.a)(e,["basePath","createButton","name","columns","renderActions"]),i=Object(A.f)(),u=[{dataField:"name",sort:!0}].concat(Object(R.a)(r),[{dataField:"actions",isDummyColumn:!0,formatter:function(e,t){return c.a.createElement("span",null,o(t))},style:{whiteSpace:"nowrap",width:"1%",paddingBottom:0}}]);return c.a.createElement(tn,Object.assign({},l,{columns:u,onSelect:function(e){i.push("".concat(t,"/").concat(encodeURIComponent(e.name)))},buttons:n,keyField:"name",defaultSorted:[{dataField:"name",order:"asc"}],selected:a}))}en.defaultProps={showError:!0};var an=function(){function e(t,n,a){Object(P.a)(this,e),this.year=t,this.month=n,this.day=a}return Object(F.a)(e,[{key:"format",value:function(){return"".concat(this.year,"-").concat(String(this.month).padStart(2,"0"),"-").concat(String(this.day).padStart(2,"0"))}}],[{key:"fromDate",value:function(e){return new Date(e.getYear(),e.getMonth(),e.getDate())}}]),e}(),rn=["January","February","March","April","May","June","July","August","September","October","November","December"],cn=function(){function e(t,n){Object(P.a)(this,e),this.year=t,this.month=n}return Object(F.a)(e,[{key:"firstDay",value:function(){return new an(this.year,this.month,1)}},{key:"lastDay",value:function(){var e=new Date(this.year,this.month,0);return new an(this.year,this.month,e.getDate())}},{key:"pretty",value:function(){return"".concat(rn[this.month-1]," ").concat(this.year)}}],[{key:"parse",value:function(t){var n=t.split("-"),a=Object(h.a)(n,2),r=a[0],c=a[1];return new e(Number(r),Number(c))}}]),e}(),on=Object(r.createContext)(),ln=function(){return Object(r.useContext)(on)};function un(e){var t=e.currentMonth,n=e.children,a=Object(r.useState)(t),o=Object(h.a)(a,2),l={currentMonth:t,selectedMonth:o[0],setSelectedMonth:o[1]};return c.a.createElement(on.Provider,{value:l},n)}n(191);var sn=n(202);function dn(e){var t=e.className,n=e.allowedValues,a=e.onChange,r=e.label,o=e.value,l=e.variant,i=e.displayBg,u=void 0===i?"light":i,s=e.labelBg,d=e.showLabel,m=void 0===d||d,b=e.size,p=et()("border-0",Object(lt.a)({},"bg-".concat(s),s));return c.a.createElement(tt.a,{className:et()("context-switcher","input-group","align-items-stretch",t,Object(lt.a)({},"input-group-".concat(b),b))},m&&c.a.createElement(rt.a.Prepend,{className:"context-switcher__label d-flex align-items-stretch"},c.a.createElement(rt.a.Text,{as:"label",className:et()(p)},r)),c.a.createElement(tt.a.Toggle,{as:mn,append:m,size:b},(function(e){var t=e.className,i=Object(y.a)(e,["className"]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(tt.a.Menu,null,n.map((function(e){return c.a.createElement(tt.a.Item,{onClick:function(){return a(e.id)},key:e.id},e.label)}))),c.a.createElement(rt.a.Text,{className:"bg-".concat(u," border-0 context_switcher__context-display text-dark"),"aria-label":r},o),c.a.createElement(at.a,Object.assign({variant:l,className:et()("dropdown-toggle-split no-arrow ",t)},i)))})))}var mn=Object(r.forwardRef)((function(e,t){var n=e.children,a=e.append,r=e.size,o=Object(y.a)(e,["children","append","size"]);return c.a.createElement(sn.a,{className:et()("context-switcher__toggle-group",Object(lt.a)({"input-group-append":a},"btn-group-".concat(r),r)),ref:t},n(o))}));function bn(){var e=Object(_.a)(["\n  query availableReports($budgetID: ID!) {\n    availableReports(budgetID: $budgetID)\n  }\n"]);return bn=function(){return e},e}var pn=L()(bn());function fn(e){var t,n=ze().selectedBudget,a=ln(),r=a.selectedMonth,o=a.setSelectedMonth,l=Et().months,i=Object(U.b)(pn,{variables:{budgetID:n.id}}),u=i.loading,s=i.error,d=i.data,m=[];if(u)t=c.a.createElement(Zt,{size:"sm",variant:"secondary"});else if(s)t=c.a.createElement("i",{className:"fas fa-fw fa-exclamation-triangle text-secondary"});else{m=d.availableReports.sort().reverse().map((function(e){var t=cn.parse(e);return{id:e,label:"".concat(l[t.month-1]," ").concat(t.year)}}));var b=cn.parse(r);t="".concat(l[b.month-1]," ").concat(b.year)}return c.a.createElement(dn,Object.assign({},e,{value:t,allowedValues:m,onChange:function(e){return o(e)},displayBg:"white",label:"Month",showLabel:!1,variant:"secondary",size:"sm"}))}function vn(e){var t=e.query,n=e.basePath,a=e.title,r=e.name,o=e.renderActions,l=e.getData,i=e.getBreadcrumbPrefix,u=void 0===i?function(){return[]}:i;return c.a.createElement(en,{query:t},(function(t){var i=t.data,s=l(i).find((function(e){return e.name===r}));return c.a.createElement(jt,null,c.a.createElement(jt.Header,{title:r,actions:o(s),breadcrumbs:u(s).concat([{text:a,to:n}])},c.a.createElement(fn,null)),c.a.createElement(Mt.a,null,c.a.createElement(_t.a,{sm:3},c.a.createElement(nn,Object.assign({visibleColumns:["name"]},e))),c.a.createElement(_t.a,null,c.a.createElement(gn,Object.assign({entity:s},e)))))}))}function gn(e){var t=e.entity,n=e.columns,a=e.readColumnNames,r=e.detailsComponent,o=e.name;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ht,{entity:t,columns:n,titleField:"name",readFieldNames:a}),c.a.createElement(r,{name:o,entity:t}))}function En(e){var t=Object(Wt.a)({},e),n=t.title;return c.a.createElement(jt,null,c.a.createElement(jt.Header,{title:n}),c.a.createElement(nn,t))}var hn=ht("title",(function(e){var t=Object(Wt.a)({},e),n=t.basePath;return c.a.createElement(A.c,null,c.a.createElement(A.a,{path:"".concat(n,"/:name"),render:function(e){var n=e.match;return c.a.createElement(vn,Object.assign({name:n.params.name},t))}}),c.a.createElement(A.a,{render:function(){return c.a.createElement(En,t)}}))}));function yn(e){return c.a.createElement(ut,Object.assign({icon:B.g,size:Ut.sm,variant:Lt.primary,type:"button"},e))}function On(e){var t=e.label,n=e.size,a=e.feedback,r=e.children;return c.a.createElement(Rt.a.Group,{as:Mt.a},c.a.createElement(Rt.a.Label,{column:!0},t),c.a.createElement(_t.a,{sm:n},r,a&&c.a.createElement(Rt.a.Control.Feedback,{type:"invalid"},a)))}function jn(e,t,n){return Object.prototype.hasOwnProperty.call(e,"$init")?Object.prototype.hasOwnProperty.call(e,"$model")?function(e,t,n){var a=e.$model,r=e.$init,c=r.map((function(e){return jn(a(e),t)}),n);return c._originalPush=c.push,c.value=function(){return c.map((function(e){return e.value()}))},c.changed=function(){return c.length!==r.length||c.some((function(e){return e.changed()}))},c.push=function(e){c._originalPush(jn(a(e),t)),t()},c.removeAt=function(e){c.splice(e,1),t()},c}(e,t,n):function(e,t){var n=e.$init,a=e.$process,r=e.$default,c=a||function(e){return e},o={current:null},l="function"===typeof r?function(){return r(t())}:function(){return r};return o.value=function(){return null===o.current?null:c(o.current.value)},o.changed=function(){return null===o.current?null!==n:o.current.value!==n},o.default=function(){return null!==n&&void 0!==n?n:l()},o.init=function(){return n},o}(e,n):function(e,t,n){var a=e.$includeAllValues,r=Object(y.a)(e,["$includeAllValues"]),c=Object.keys(r).reduce((function(e,a){return Object(u.a)({},e,Object(lt.a)({},a,jn(r[a],t,n)))}),{});return c.changed=function(){return Object.keys(r).some((function(e){return c[e].changed()}))},c.value=function(){return Object.keys(r).reduce((function(e,t){return c[t].changed()||a?Object(u.a)({},e,Object(lt.a)({},t,c[t].value())):e}),{})},c}(e,t,n)}function Dn(e){var t,n=Object(r.useState)(!1),a=Object(h.a)(n,2)[1];return t=jn(e,(function(){return a((function(e){return!e}))}),(function(){return t})),Object(r.useRef)(t).current}function In(){var e=Object(_.a)(["\n  mutation UpdateCategory($budgetID: ID!, $id: ID!, $input: CategoryUpdate!) {\n    updateCategory(budgetID: $budgetID, id: $id, in: $input) {\n      id\n      name\n      envelope {\n        id\n        name\n      }\n      description\n    }\n  }\n"]);return In=function(){return e},e}function wn(){var e=Object(_.a)(["\n  mutation CreateCategory($budgetID: ID!, $input: CategoryInput!) {\n    createCategory(budgetID: $budgetID, in: $input) {\n      id\n      name\n      envelope {\n        id\n        name\n      }\n      description\n    }\n  }\n"]);return wn=function(){return e},e}function Nn(){var e=Object(_.a)(["\n  query GetCategories($budgetID: ID!) {\n    categories(budgetID: $budgetID) {\n      id\n      name\n      envelope {\n        id\n        name\n      }\n      description\n    }\n  }\n"]);return Nn=function(){return e},e}On.defaultProps={inline:0};var Tn=L()(Nn()),kn=L()(wn()),Cn=L()(In());function xn(){var e=ze().selectedBudget;return Object(U.b)(Tn,{variables:{budgetID:e.id}})}function An(e){var t=e.placeholder,n=e.formData,a=Object(r.useState)(!1),o=Object(h.a)(a,2),l=o[0],i=o[1],u=Object(r.useState)(n.default()||""),s=Object(h.a)(u,2),d=s[0],m=s[1];return Object(r.useEffect)((function(){n.current={value:d}}),[n,d]),c.a.createElement(Rt.a.Control,{required:!0,type:"text",placeholder:t,value:d,onChange:function(e){var t=e.target.value;m(t),i(q.isValid(t))},isValid:l})}function $n(e){var t=e.formData,n=xn(),a=Et().expenses;return c.a.createElement(en,{query:n},(function(e){var n=e.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement("small",{className:"d-flex align-items-center mb-3"},a.modal.labels.categories,c.a.createElement(ut,{icon:B.g,variant:Lt.primary,size:Ut.sm,onClick:function(){return t.push({category:{id:null},amount:null})},type:"button",borderless:!0})),t.map((function(e,r){return c.a.createElement(Rt.a.Group,{as:Mt.a,key:e.categoryID.init()||r,className:"d-flex align-items-center"},c.a.createElement(_t.a,{sm:6},c.a.createElement(ct,{_ref:e.categoryID,defaultValue:e.categoryID.init(),allowedValues:n.categories.map((function(e){return{id:e.id,label:e.name}})),required:!0})),c.a.createElement(_t.a,{className:"pr-0"},c.a.createElement(An,{placeholder:a.modal.labels.amount,formData:e.amount})),c.a.createElement(_t.a,{sm:1,className:"px-0"},c.a.createElement(ut,{icon:B.f,variant:Lt.danger,size:Ut.sm,onClick:function(){return t.removeAt(r)},type:"button",borderless:!0})))})))}))}function Bn(e){var t=e.account,n=e.init,a=Object(y.a)(e,["account","init"]),r=ze().selectedBudget,o=Et().expenses,l=Ke(),i=Dn({title:{$init:n.title},date:{$init:n.date},accountID:{$init:n.account.id,$default:t&&t.id},categories:{$init:n.categories,$model:function(e){return{categoryID:{$init:e.category.id},amount:{$init:q.format(e.amount,!1),$process:q.parse},$includeAllValues:!0}}}}),u=cn.parse(r.currentMonth.month),s=u.firstDay(),d=u.lastDay();return c.a.createElement(Vt,Object.assign({formData:i},a),c.a.createElement(en,{query:l},(function(e){var n=e.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{label:o.modal.labels.title,inline:10,formData:i.title,feedback:"Provide name",required:!0}),c.a.createElement(zt,{label:o.modal.labels.date,inline:10,formData:i.date,feedback:"Provide date",type:"date",required:!0,min:s.format(),max:d.format()}),c.a.createElement(On,{label:o.modal.labels.account,size:9},c.a.createElement(ct,{_ref:i.accountID,defaultValue:i.accountID.default(),allowedValues:n.accounts.map((function(e){return{id:e.id,label:e.name}})),disabled:!!t,required:!0})),c.a.createElement($n,{formData:i.categories}))})))}function Pn(e){var t=e.account,n=function(){var e=ze().selectedBudget,t=Object(U.a)(ue,{update:function(t,n){var a=n.data.createExpense,r=t.readQuery({query:ie,variables:{budgetID:e.id,month:e.currentMonth.month}}).monthlyReport;t.writeQuery({query:ie,variables:{budgetID:e.id,month:e.currentMonth.month},data:{monthlyReport:Object(u.a)({},r,{expenses:r.expenses.concat([a])})}})},refetchQueries:function(){return[{query:Ge,variables:{budgetID:e.id}},{query:H,variables:{budgetID:e.id}},{query:te,variables:{budgetID:e.id,month:e.currentMonth.month}}]}}),n=Object(M.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,input:t}})}].concat(Object(R.a)(r))}(),a=Object(h.a)(n,1)[0],r=Et().expenses;return c.a.createElement(dt,{button:function(e){return c.a.createElement(yn,e)},modalContent:function(e){return c.a.createElement(Bn,Object.assign({init:{name:null,account:{},date:null,categories:[]},account:t,title:r.modal.createTitle,onSave:a},e))}})}function Fn(e){var t=e.disabled,n=e.variant,a=Object(y.a)(e,["disabled","variant"]);return c.a.createElement(ut,Object.assign({variant:t?Lt.secondary:n,borderless:!0,disabled:t},a))}function Sn(e){var t=e.row,n=e.monthScopedResource,a=e.dictionaryName,r=e.modalComponent,o=e.updateHook,l=e.deletehook,i=ln(),u=i.currentMonth,s=i.selectedMonth,d=Et()[a],m=o(),b=Object(h.a)(m,1)[0],p=l(),f=Object(h.a)(p,1)[0],v=n&&u!==s;return c.a.createElement("span",null,c.a.createElement(Fn.EditInModal,{modalComponent:r,init:t,update:b,dictionary:d,disabled:v}),c.a.createElement(Fn.Delete,{onClick:function(){return f(t.id)},disabled:v}))}Fn.Edit=function(e){return c.a.createElement(Fn,Object.assign({icon:B.e,variant:Lt.primary},e))},Fn.EditInModal=function(e){var t=e.modalComponent,n=e.dictionary,a=e.update,r=e.init,o=Object(y.a)(e,["modalComponent","dictionary","update","init"]);return c.a.createElement(dt,{button:function(e){return c.a.createElement(Fn.Edit,Object.assign({},o,e))},modalContent:function(e){return c.a.createElement(t,Object.assign({init:r,title:n.modal.editTitle,onSave:function(e){return a(r.id,e)}},e))}})},Fn.Delete=function(e){return c.a.createElement(Fn,Object.assign({icon:B.j,variant:Lt.danger},e))};var qn={totalAmount:function(e){return q.prettyFormat(e.reduce((function(e,t){return e+t}),0))}},Rn=[{dataField:"title"},{dataField:"date",sort:!0},{dataField:"account",formatter:function(e){return c.a.createElement(i.b,{to:"/accounts/".concat(e.name)},e.name)}},{dataField:"totalAmount",formatter:q.prettyFormat,align:"right",headerAlign:"right",sort:!0,footerAlign:"right"},{dataField:"actions",isDummyColumn:!0,formatter:function(e,t){return c.a.createElement(Sn,{row:t,monthScopedResource:!0,modalComponent:Bn,dictionaryName:"expenses",updateHook:de,deletehook:be})},style:{whiteSpace:"nowrap",width:"1%"}}],Mn=function(e,t){return t%2===0&&"table-striped"},_n={className:"background-color-white",renderer:function(e){return c.a.createElement("table",{className:"table table-sm mb-0"},c.a.createElement("tbody",null,e.categories.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",{className:"pl-3"},e.category.name),c.a.createElement("td",null,q.prettyFormat(e.amount)))}))))}},zn=[{dataField:"date",order:"desc"}];function Ln(e){var t=e.readTitle,n=e.createButton,a=e.accountFilter,r=e.categoryFilter,o=e.addFooter,l=void 0!==o&&o,i=Object(y.a)(e,["readTitle","createButton","accountFilter","categoryFilter","addFooter"]),s=function(e){var t=ze().selectedBudget;return Object(U.b)(ie,{variables:{budgetID:t.id,month:e}})}(ln().selectedMonth),d=[],m=[];a&&d.push((function(e){return e.account.id===a})),r&&(d.push((function(e){return e.categories.some((function(e){return e.category.id===r}))})),m.push((function(e){return Object(u.a)({},e,{categories:e.categories.filter((function(e){return e.category.id===r}))})})),m.push((function(e){return Object(u.a)({},e,{totalAmount:e.categories.reduce((function(e,t){return e+t.amount}),0)})})));var b=l?Rn.map((function(e){return Object(u.a)({},e,{footer:qn[e.dataField]?qn[e.dataField]:""})})):Rn;return c.a.createElement(tn,Object.assign({},i,{query:s,getData:function(e){return e.monthlyReport.expenses},buttons:n,columns:b,keyField:"id",expandRow:_n,rowClasses:Mn,striped:!1,readTitle:t,readColumnNames:function(e){return e.expenses.table.columns},defaultSorted:zn,filters:d,mappers:m}))}n(192);var Un=n(203),Jn=Object(r.createContext)();function Qn(e){var t=e.initialyShown,n=Object(y.a)(e,["initialyShown"]),a=Object(r.useState)(t),o=Object(h.a)(a,2),l=o[0],i=o[1];return c.a.createElement(Jn.Provider,{value:{show:l,toggle:function(){return i((function(e){return!e}))}}},c.a.createElement(It,n))}function Vn(e){var t=e.toAccount,n=e.fromAccount,a=e.init,r=Object(y.a)(e,["toAccount","fromAccount","init"]),o=ze().selectedBudget,l=Et().transfers,i=Ke(),u=Dn({title:{$init:a.title},date:{$init:a.date},amount:{$init:q.format(a.amount,!1),$process:q.parse},fromAccountID:{$init:a.fromAccount&&a.fromAccount.id,$process:function(e){return""===e?null:e},$default:n&&n.id},toAccountID:{$init:a.toAccount.id,$default:t&&t.id}}),s=cn.parse(o.currentMonth.month),d=s.firstDay(),m=s.lastDay();return c.a.createElement(Vt,Object.assign({formData:u},r),c.a.createElement(en,{query:i},(function(e){var a=e.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{required:!0,label:l.modal.labels.title,inline:10,formData:u.title,feedback:"Provide title"}),c.a.createElement(zt,{label:l.modal.labels.date,inline:10,formData:u.date,feedback:"Provide date",type:"date",required:!0,min:d.format(),max:m.format()}),c.a.createElement(zt,{inline:10,label:l.modal.labels.amount},c.a.createElement(An,{formData:u.amount}))," ",c.a.createElement(On,{size:10,label:l.modal.labels.fromAccount},c.a.createElement(ct,{allowedValues:a.accounts.map((function(e){return{id:e.id,label:e.name}})),_ref:u.fromAccountID,defaultValue:u.fromAccountID.default(),disabled:!!n})),c.a.createElement(On,{size:10,label:l.modal.labels.toAccount},c.a.createElement(ct,{allowedValues:a.accounts.map((function(e){return{id:e.id,label:e.name}})),_ref:u.toAccountID,defaultValue:u.toAccountID.default(),disabled:!!t})))})))}function Wn(e){var t=e.toAccount,n=e.fromAccount,a=function(){var e=ze().selectedBudget,t=Object(U.a)(Be,{update:function(t,n){var a=n.data.createTransfer,r=t.readQuery({query:$e,variables:{budgetID:e.id,month:e.currentMonth.month}}).monthlyReport;t.writeQuery({query:$e,variables:{budgetID:e.id,month:e.currentMonth.month},data:{monthlyReport:Object(u.a)({},r,{transfers:r.transfers.concat([a])})}})},refetchQueries:function(){return[{query:Ge,variables:{budgetID:e.id}},{query:te,variables:{budgetID:e.id,month:e.currentMonth.month}}]}}),n=Object(M.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,input:t}})}].concat(Object(R.a)(r))}(),r=Object(h.a)(a,1)[0],o=Et().transfers;return c.a.createElement(dt,{button:function(e){return c.a.createElement(yn,e)},modalContent:function(e){return c.a.createElement(Vn,Object.assign({init:{title:null,fromAccount:{id:null},toAccount:{id:null},amount:null,date:null},title:o.modal.createTitle,onSave:r,toAccount:t,fromAccount:n},e))}})}Qn.defaultProps={initialyShown:!1},Qn.Header=function(e){var t=e.className,n=Object(y.a)(e,["className"]),a=Object(r.useContext)(Jn).toggle,o=et()("collapsible-panel__header",t);return c.a.createElement(It.Header,Object.assign({onClick:function(){return a()},className:o},n))},Qn.Title=function(e){var t=e.children,n=Object(y.a)(e,["children"]),a=Object(r.useContext)(Jn).show;return c.a.createElement(It.Title,n,c.a.createElement("span",{className:"text-secondary mr-2"},c.a.createElement(it.a,{icon:a?B.c:B.b})),t)},Qn.Body=function(e){var t=Object(r.useContext)(Jn).show;return c.a.createElement(Un.a,{in:t},c.a.createElement(It.Body,e))};var Hn=[{dataField:"title"},{dataField:"fromAccount",formatter:function(e){return e&&c.a.createElement(i.b,{to:"/accounts/".concat(e.name)},e.name)}},{dataField:"toAccount",formatter:function(e){return e&&c.a.createElement(i.b,{to:"/accounts/".concat(e.name)},e.name)}},{dataField:"amount",align:"right",headerAlign:"right",formatter:q.prettyFormat},{dataField:"date",align:"right",headerAlign:"right"},{dataField:"actions",isDummyColumn:!0,formatter:function(e,t){return c.a.createElement(Sn,{row:t,monthScopedResource:!0,modalComponent:Vn,dictionaryName:"transfers",updateHook:Fe,deletehook:qe})},style:{whiteSpace:"nowrap",width:"1%"}}];function Gn(e){var t=e.toAccountFilter,n=e.fromAccountFilter,a=e.createButton,r=Object(y.a)(e,["toAccountFilter","fromAccountFilter","createButton"]),o=function(e){var t=ze().selectedBudget;return Object(U.b)($e,{variables:{budgetID:t.id,month:e}})}(ln().selectedMonth),l=[];return t&&l.push((function(e){return e.toAccount.id===t})),n&&l.push((function(e){return e.fromAccount&&e.fromAccount.id===n})),c.a.createElement(tn,Object.assign({},r,{query:o,getData:function(e){return e.monthlyReport.transfers},buttons:a,columns:Hn,keyField:"id",readColumnNames:function(e){return e.transfers.table.columns},filters:l}))}function Kn(e){var t=e.entity;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Gn,{readTitle:function(e){return e.accounts.inTransfersTableTitle},createButton:c.a.createElement(Wn,{toAccount:t}),accountFilter:t.id,hiddenColumns:["toAccount"],wrapper:Qn,toAccountFilter:t.id}),c.a.createElement(Gn,{readTitle:function(e){return e.accounts.outTransfersTableTitle},createButton:c.a.createElement(Wn,{fromAccount:t}),accountFilter:t.id,hiddenColumns:["fromAccount"],wrapper:Qn,fromAccountFilter:t.id}),c.a.createElement(Ln,{readTitle:function(e){return e.accounts.expensesTableTitle},createButton:c.a.createElement(Pn,{account:t}),accountFilter:t.id,hiddenColumns:["account"],wrapper:Qn}))}function Zn(e){var t=e.init,n=Object(y.a)(e,["init"]),a=Et().accounts,r=Dn({name:{$init:t.name}});return c.a.createElement(Vt,Object.assign({formData:r},n),c.a.createElement(zt,{label:a.modal.labels.name,inline:10,formData:r.name,feedback:"Provide name"}))}function Yn(){var e=function(){var e=ze().selectedBudget,t=Object(U.a)(Ze,{update:function(t,n){var a=n.data.createAccount,r=t.readQuery({query:Ge,variables:{budgetID:e.id}}).accounts;t.writeQuery({query:Ge,variables:{budgetID:e.id},data:{accounts:r.concat([a])}})}}),n=Object(M.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,input:t}})}].concat(Object(R.a)(r))}(),t=Object(h.a)(e,1)[0],n=Et().accounts;return c.a.createElement(dt,{button:function(e){return c.a.createElement(yn,e)},modalContent:function(e){return c.a.createElement(Zn,Object.assign({init:{name:""},title:n.modal.createTitle,onSave:t},e))}})}n(193);function Xn(e){var t=e.account,n=function(){var e=ze().selectedBudget,t=Object(U.a)(Ye),n=Object(M.a)(t),a=n[0],r=n.slice(1);return[function(t,n){a({variables:{budgetID:e.id,id:t,input:n}})}].concat(Object(R.a)(r))}(),a=Object(h.a)(n,1)[0],r=Et().accounts;return c.a.createElement(dt,{button:function(e){return c.a.createElement(ut,Object.assign({className:"accounts__update-button",icon:B.e,variant:Lt.primary,borderless:!0},e))},modalContent:function(e){return c.a.createElement(Zn,Object.assign({init:t,title:r.modal.editTitle,onSave:function(e){return a(t.id,e)}},e))}})}var ea=[{dataField:"balance",align:"right",headerAlign:"right",formatter:q.prettyFormat}];function ta(){var e=Ke();return c.a.createElement(hn,{basePath:"/accounts",readTitle:function(e){return e.sidebar.pages.accounts},detailsComponent:Kn,query:e,createButton:c.a.createElement(Yn,null),getData:function(e){return e.accounts},columns:ea,readColumnNames:function(e){return e.accounts.table.columns},renderActions:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Xn,{account:e}),c.a.createElement(ut,{icon:B.a,variant:Lt.secondary,borderless:!0}))}})}var na=ht("title",(function(e){var t=Object(Wt.a)({},e),n=t.basePath;return c.a.createElement(A.c,null,c.a.createElement(A.a,{path:"".concat(n,"/:name"),render:function(e){var n=e.match;return c.a.createElement(vn,Object.assign({name:decodeURIComponent(n.params.name)},t))}}))}));function aa(e){var t=e.init,n=e.envelope,a=Object(y.a)(e,["init","envelope"]),r=Z(),o=Et().categories,l=Dn({name:{$init:t.name},envelopeID:{$init:t.envelope.id,$default:n&&n.id},description:{$init:t.description}});return c.a.createElement(Vt,Object.assign({formData:l},a),c.a.createElement(en,{query:r},(function(e){var t=e.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{label:o.modal.labels.name,inline:9,formData:l.name,feedback:"Provide name"}),c.a.createElement(On,{size:9,label:o.modal.labels.envelope},c.a.createElement(ct,{allowedValues:t.envelopes.map((function(e){return{id:e.id,label:e.name}})),_ref:l.envelopeID,defaultValue:l.envelopeID.default(),disabled:!!n,required:!0})),c.a.createElement(zt,{label:o.modal.labels.description,inline:9,formData:l.description,feedback:"Provide description"}))})))}function ra(e){var t=e.envelope,n=e.onClickRef,a=function(){var e=ze().selectedBudget,t=Object(U.a)(kn,{update:function(t,n){var a=n.data.createCategory,r=t.readQuery({query:Tn,variables:{budgetID:e.id}}).categories;t.writeQuery({query:Tn,variables:{budgetID:e.id},data:{categories:r.concat([a])}})}}),n=Object(M.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,input:t}})}].concat(Object(R.a)(r))}(),r=Object(h.a)(a,1)[0],o=Et().categories;return c.a.createElement(dt,{onClickRef:n,button:function(e){return c.a.createElement(yn,e)},modalContent:function(e){return c.a.createElement(aa,Object.assign({title:o.modal.createTitle,init:{name:"",envelope:{id:null},description:""},onSave:r,envelope:t},e))}})}function ca(e){var t=e.category,n=function(){var e=ze().selectedBudget,t=Object(U.a)(Cn),n=Object(M.a)(t),a=n[0],r=n.slice(1);return[function(t,n){a({variables:{budgetID:e.id,id:t,input:n}})}].concat(Object(R.a)(r))}(),a=Object(h.a)(n,1)[0],r=Et().categories,o=function(e){a(t.id,e)};return c.a.createElement(dt,{button:function(e){return c.a.createElement(ut,Object.assign({icon:B.e,variant:Lt.primary},e,{borderless:!0}))},modalContent:function(e){return c.a.createElement(aa,Object.assign({title:r.modal.editTitle,init:t,onSave:o},e))}})}var oa=[{dataField:"envelope",formatter:function(e){return c.a.createElement(i.b,{to:"/envelopes/".concat(e.name)},e.name)},sort:!0},{dataField:"description"}],la=[{dataField:"name",order:"asc"}];function ia(e){var t=e.envelopeFilter,n=Object(y.a)(e,["envelopeFilter"]),a=xn(),r=[];return t&&r.push((function(e){return e.envelope.id===t.id})),c.a.createElement(tn,Object.assign({},n,{keyField:"id",columns:[{dataField:"name",sort:!0}].concat(oa,[{dataField:"actions",isDummyColumn:!0,formatter:function(e,t){return c.a.createElement("span",null,c.a.createElement(ca,{category:t}),c.a.createElement(ut,{icon:B.a,variant:Lt.secondary,borderless:!0}))},style:{whiteSpace:"nowrap",width:"1%"}}]),buttons:c.a.createElement(ra,{envelope:t}),query:a,getData:function(e){return e.categories},readTitle:function(e){return e.categories.table.title},readColumnNames:function(e){return e.categories.table.columns},defaultSorted:la,filters:r}))}function ua(){var e=xn();return c.a.createElement(na,{basePath:"/categories",readTitle:function(e){return e.categories.table.title},getBreadcrumbPrefix:function(e){return[{to:"/envelopes",readText:function(e){return e.sidebar.pages.envelopes}},{to:"/envelopes/".concat(e.envelope.name),text:e.envelope.name}]},query:e,getData:function(e){return e.categories},renderActions:function(e){return c.a.createElement("span",null,c.a.createElement(ca,{category:e}),c.a.createElement(ut,{icon:B.a,variant:Lt.secondary,borderless:!0}))},columns:oa,readColumnNames:function(e){return e.categories.table.columns},detailsComponent:sa,createButton:c.a.createElement(ra,null)})}function sa(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(da,e))}function da(e){var t=e.entity;return c.a.createElement(Ln,{readTitle:function(e){return e.expenses.table.title},createButton:c.a.createElement(Pn,null),wrapper:Qn,categoryFilter:t.id,addFooter:!0})}var ma=function(){function e(){Object(P.a)(this,e)}return Object(F.a)(e,null,[{key:"overLimit",value:function(e){return null!==e.limit&&e.limit<e.balance?q.prettyFormat(e.balance-e.limit):"-"}}]),e}();function ba(e){var t=e.initEnabled,n=e.label,a=e.inline,o=Object(y.a)(e,["initEnabled","label","inline"]),l=Object(r.useState)(t),i=Object(h.a)(l,2),u=i[0],s=i[1],d=function(){return s((function(e){return!e}))};return c.a.createElement(Rt.a.Group,{className:"mb-3",as:!!a&&Mt.a},c.a.createElement(Rt.a.Label,{column:!!a},c.a.createElement(Rt.a.Check,{custom:!0,type:"switch"},c.a.createElement(Rt.a.Check.Input,{checked:u,onChange:d}),c.a.createElement(Rt.a.Check.Label,{onClick:d},n))),u&&c.a.createElement(zt.Input,Object.assign({autoFocus:!0,inline:a},o)))}function pa(e){var t=e.init,n=e.fromEnvelope,a=e.toEnvelope,r=Object(y.a)(e,["init","fromEnvelope","toEnvelope"]),o=Z(),l=Et().plans,i=Dn({title:{$init:t.title},currentAmount:{$init:q.format(t.currentAmount,!1),$process:q.parse},recurringAmount:{$init:q.format(t.recurringAmount,!1),$default:function(e){return q.format(e.currentAmount.value())},$process:q.parse},fromEnvelopeID:{$init:null!==t.fromEnvelope?t.fromEnvelope.id:"",$process:function(e){return""===e?null:e},$default:n&&n.id},toEnvelopeID:{$init:null!==t.toEnvelope?t.toEnvelope.id:"",$process:function(e){return""===e?null:e},$default:a&&a.id}});return c.a.createElement(Vt,Object.assign({formData:i},r),c.a.createElement(en,{query:o},(function(e){var r=e.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{required:!0,label:l.modal.labels.title,inline:10,formData:i.title,feedback:"Provide title"}),c.a.createElement(zt,{inline:8,label:l.modal.labels.amount},c.a.createElement(An,{formData:i.currentAmount})),c.a.createElement(ba,{initEnabled:null!==t.recurringAmount,inline:8,label:l.modal.labels.recurring},c.a.createElement(An,{formData:i.recurringAmount,required:!0})),c.a.createElement(On,{size:8,label:l.modal.labels.fromEnvelope},c.a.createElement(ct,{_ref:i.fromEnvelopeID,defaultValue:i.fromEnvelopeID.default(),allowedValues:r.envelopes.map((function(e){return{id:e.id,label:e.name}})).concat([{id:null,label:""}]),disabled:!!n})),c.a.createElement(On,{size:8,label:l.modal.labels.toEnvelope},c.a.createElement(ct,{_ref:i.toEnvelopeID,defaultValue:i.toEnvelopeID.default(),allowedValues:r.envelopes.map((function(e){return{id:e.id,label:e.name}})).concat([{id:null,label:""}]),disabled:!!a})))})))}function fa(e){var t=function(){var e=ze().selectedBudget,t=Object(U.a)(Oe,{update:function(t,n){var a=n.data.createPlan,r=t.readQuery({query:ye,variables:{budgetID:e.id}}).budget;t.writeQuery({query:ye,variables:{budgetID:e.id},data:{budget:Object(u.a)({},r,{currentMonth:Object(u.a)({},r.currentMonth,{plans:r.currentMonth.plans.concat([a])})})}})},refetchQueries:function(){return[{query:H,variables:{budgetID:e.id}},{query:te,variables:{budgetID:e.id,month:e.currentMonth.month}}]}}),n=Object(M.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,input:t}})}].concat(Object(R.a)(r))}(),n=Object(h.a)(t,1)[0],a=Et().plans;return c.a.createElement(dt,{button:function(e){return c.a.createElement(yn,e)},modalContent:function(t){return c.a.createElement(pa,Object.assign({},e,{init:{title:null,fromEnvelope:{id:null},toEnvelope:{id:null},currentAmount:null,recurringAmount:null,date:null},title:a.modal.createTitle,onSave:n},t))}})}function va(e){var t=e.plan,n=function(){var e=ze().selectedBudget,t=Object(U.a)(De,{update:function(t,n){var a=n.data.deletePlan,r=t.readQuery({query:ye,variables:{budgetID:e.id}}).budget;t.writeQuery({query:ye,variables:{budgetID:e.id},data:{budget:Object(u.a)({},r,{currentMonth:Object(u.a)({},r.currentMonth,{plans:J(r.currentMonth.plans,a.id)})})}})},refetchQueries:function(){return[{query:H,variables:{budgetID:e.id}},{query:te,variables:{budgetID:e.id,month:e.currentMonth.month}}]}}),n=Object(M.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,id:t}})}].concat(Object(R.a)(r))}(),a=Object(h.a)(n,1)[0];return c.a.createElement(ut,{icon:B.j,variant:Lt.secondary,onClick:function(){return a(t.id)},borderless:!0})}function ga(e){var t=e.plan,n=function(){var e=ze().selectedBudget,t=Object(U.a)(je,{refetchQueries:function(){return[{query:H,variables:{budgetID:e.id}},{query:te,variables:{budgetID:e.id,month:e.currentMonth.month}}]}}),n=Object(M.a)(t),a=n[0],r=n.slice(1);return[function(t,n){a({variables:{budgetID:e.id,id:t,input:n}})}].concat(Object(R.a)(r))}(),a=Object(h.a)(n,1)[0],r=Et().plans;return c.a.createElement(dt,{button:function(e){return c.a.createElement(ut,Object.assign({icon:B.e,variant:Lt.primary,borderless:!0},e))},modalContent:function(e){return c.a.createElement(pa,Object.assign({init:t,title:r.modal.editTitle,onSave:function(e){return a(t.id,e)}},e))}})}function Ea(e){var t=e.fromEnvelope,n=e.toEnvelope,a=Object(y.a)(e,["fromEnvelope","toEnvelope"]),r=function(){var e=ze().selectedBudget;return Object(U.b)(ye,{variables:{budgetID:e.id}})}(),o=[];return t&&o.push((function(e){return e.fromEnvelope&&e.fromEnvelope.id===t.id})),n&&o.push((function(e){return e.toEnvelope&&e.toEnvelope.id===n.id})),c.a.createElement(tn,Object.assign({query:r,getData:function(e){return e.budget.currentMonth.plans},buttons:c.a.createElement(fa,{fromEnvelope:t,toEnvelope:n}),columns:ha,keyField:"id",readTitle:function(e){return e.plans.table.title},readColumnNames:function(e){return e.plans.table.columns},defaultSorted:ya,filters:o},a))}ba.defaultProps={inline:0};var ha=[{dataField:"title",sort:!0},{dataField:"fromEnvelope",sort:!0,sortValue:function(e){return e?e.name:""},formatter:function(e){return e&&c.a.createElement(i.b,{to:"/envelopes/".concat(e.name)},e.name)}},{dataField:"toEnvelope",sort:!0,sortValue:function(e){return e?e.name:""},formatter:function(e){return e&&c.a.createElement(i.b,{to:"/envelopes/".concat(e.name)},e.name)}},{dataField:"currentAmount",formatter:q.prettyFormat,align:"right",headerAlign:"right"},{dataField:"recurringAmount",formatter:function(e){return null!==e?c.a.createElement("i",{className:"fas fa-fw fa-sync-alt"}):null}},{dataField:"actions",isDummyColumn:!0,formatter:function(e,t){return c.a.createElement("span",null,c.a.createElement(ga,{plan:t}),c.a.createElement(va,{plan:t}))},style:{whiteSpace:"nowrap",width:"1%"}}],ya=[{dataField:"title",order:"asc"}],Oa=n(1),ja=n.n(Oa),Da=ja.a.number,Ia=ja.a.shape({id:ja.a.string.isRequired,name:ja.a.string.isRequired}),wa=(ja.a.shape({id:ja.a.string.isRequired,title:ja.a.string.isRequired,date:ja.a.string,totalBalance:Da.isRequired,location:ja.a.string,account:Ia}),ja.a.shape({id:ja.a.string.isRequired,name:ja.a.string.isRequired}));ja.a.shape({id:ja.a.string.isRequired,name:ja.a.string.isRequired,envelope:wa});function Na(e){var t=e.init,n=Object(y.a)(e,["init"]),a=Et().envelopes,r=Dn({name:{$init:t.name},limit:{$init:q.format(t.limit,!1),$process:q.parse}});return c.a.createElement(Vt,Object.assign({formData:r},n),c.a.createElement(zt,{label:a.modal.labels.name,inline:9,feedback:"Provide a name for the envelope",required:!0,formData:r.name}),c.a.createElement(ba,{initEnabled:!!t.limit,inline:9,label:a.modal.labels.limit},c.a.createElement(An,{formData:r.limit,required:!0})))}function Ta(e){var t=e.onClickRef,n=function(){var e=ze().selectedBudget,t=Object(U.a)(G,{update:function(t,n){var a=n.data.createEnvelope,r=t.readQuery({query:H,variables:{budgetID:e.id}}).envelopes;t.writeQuery({query:H,variables:{budgetID:e.id},data:{envelopes:r.concat([a])}})}}),n=Object(M.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,input:t}})}].concat(Object(R.a)(r))}(),a=Object(h.a)(n,1)[0],r=Et().envelopes;return c.a.createElement(dt,{onClickRef:t,button:function(e){return c.a.createElement(yn,e)},modalContent:function(e){return c.a.createElement(Na,Object.assign({title:r.modal.createTitle,init:{name:"",limit:null},onSave:a},e))}})}function ka(e){var t=e.envelope,n=function(){var e=ze().selectedBudget,t=Object(U.a)(K),n=Object(M.a)(t),a=n[0],r=n.slice(1);return[function(t,n){a({variables:{budgetID:e.id,id:t,input:n}})}].concat(Object(R.a)(r))}(),a=Object(h.a)(n,1)[0],r=Et().envelopes,o=function(e){a(t.id,e)};return c.a.createElement(dt,{button:function(e){return c.a.createElement(ut,Object.assign({icon:B.e,variant:Lt.primary,borderless:!0},e))},modalContent:function(e){return c.a.createElement(Na,Object.assign({title:r.modal.editTitle,init:t,onSave:o},e))}})}var Ca=[{dataField:"balance",formatter:q.prettyFormat,align:"right",headerAlign:"right"},{dataField:"limit",formatter:q.prettyFormat,align:"right",headerAlign:"right"},{dataField:"overLimit",align:"right",headerAlign:"right",formatter:function(e,t){return ma.overLimit(t)}}];function xa(){var e=Z();return c.a.createElement(hn,{basePath:"/envelopes",readTitle:function(e){return e.sidebar.pages.envelopes},detailsComponent:Aa,query:e,createButton:c.a.createElement(Ta,null),getData:function(e){return e.envelopes},columns:Ca,readColumnNames:function(e){return e.envelopes.table.columns},renderActions:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ka,{envelope:e}),c.a.createElement(ut,{icon:B.a,variant:Lt.secondary,borderless:!0}))}})}function Aa(e){var t=e.entity,n=Object(A.f)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(ia,{hiddenColumns:["envelope"],envelopeFilter:t,wrapper:Qn,onSelect:function(e){n.push("/categories/".concat(encodeURIComponent(e.name)))}}),c.a.createElement(Ea,{hiddenColumns:["toEnvelope"],toEnvelope:t,wrapper:Qn,readTitle:function(e){return e.envelopes.inPlansTableTitle}}),c.a.createElement(Ea,{hiddenColumns:["fromEnvelope"],fromEnvelope:t,wrapper:Qn,readTitle:function(e){return e.envelopes.outPlansTableTitle}}))}function $a(){return c.a.createElement(jt,null,c.a.createElement(jt.Header,{readTitle:function(e){return e.sidebar.pages.expenses}},c.a.createElement(fn,null)),c.a.createElement(Ln,{readTitle:function(e){return e.expenses.table.title},createButton:c.a.createElement(Pn,null)}))}function Ba(e){var t=e.disabled,n=e.warn,a=function(){var e=ze().selectedBudget,t=Object(U.a)(Qe,{refetchQueries:function(){return[{query:te,variables:{budgetID:e.id,month:e.currentMonth}},{query:ye,variables:{budgetID:e.id}},{query:Ae,variables:{budgetID:e.id}},{query:ie,variables:{budgetID:e.id,month:e.currentMonth.month}}]}}),n=Object(M.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,input:t}})}].concat(Object(R.a)(r))}(),r=Object(h.a)(a,1)[0],o=Et().dashboard;return c.a.createElement(wt,{icon:B.d,variant:t?Lt.secondary:n?Lt.warning:Lt.success,disabled:t,onClick:function(){return r()}},o.buttons.closeMonth)}function Pa(e){var t=e.className,n=e.month,a=Et(),r=a.dashboard,o=a.months,l=cn.parse(n.month);return c.a.createElement(It,{className:t},c.a.createElement(It.Header,null,c.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},c.a.createElement(It.Title,{title:c.a.createElement("span",null,r.currentMonth,":"," ",c.a.createElement("strong",null,c.a.createElement("em",null,o[l.month-1]," ",l.year)))}),c.a.createElement("div",null,c.a.createElement(Ba,{disabled:n.problems.some((function(e){return"ERROR"===e.severity})),warn:n.problems.length>0})))))}function Fa(e){var t=e.className,n=e.variant,a=e.title,r=e.value,o=e.faIcon;return c.a.createElement("div",{className:t},c.a.createElement("div",{className:"card border-left-".concat(n," shadow h-100 py-2")},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row no-gutters align-items-center"},c.a.createElement("div",{className:"col mr-2"},c.a.createElement("div",{className:"text-xs font-weight-bold text-".concat(n," text-uppercase mb-1")},a),c.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},r)),c.a.createElement("div",{className:"col-auto"},c.a.createElement("i",{className:"fas fa-".concat(o," fa-2x text-gray-300")}))))))}function Sa(e){var t=e.className,n=e.month,a=Et().dashboard;return c.a.createElement("div",{className:t},c.a.createElement(Mt.a,null,c.a.createElement(Fa,{className:"col-6 col-lg-12 mb-4",variant:"primary",title:a.planned,value:q.prettyFormat(n.totalPlannedAmount),faIcon:"clipboard-list"}),c.a.createElement(Fa,{className:"col-6 col-lg-12 mb-4",variant:"primary",title:a.incomes,value:q.prettyFormat(n.totalIncomeAmount),faIcon:"briefcase"}),c.a.createElement(Fa,{className:"col-6 col-lg-12 mb-4",variant:"primary",title:a.leftToPlan,value:q.prettyFormat(n.totalIncomeAmount-n.totalPlannedAmount),faIcon:"balance-scale"}),c.a.createElement(Fa,{className:"col-6 col-lg-12 mb-4",variant:"primary",title:a.expenses,value:q.prettyFormat(n.totalExpenseAmount),faIcon:"receipt"})))}n(194);var qa={ERROR:"danger",WARNING:"warning",INFO:"primary"},Ra={ERROR:"exclamation-circle",WARNING:"exclamation-triangle",INFO:"info-circle"},Ma={NegativeBalanceOnEnvelope:"/envelopes",EnvelopeOverLimit:"/envelopes",NegativeBalanceOnAccount:"/accounts"};function _a(e){var t=e.className,n=e.problems,a=Z(),r=Ke();return c.a.createElement(en,{query:a},(function(e){var a=e.data;return c.a.createElement(en,{query:r},(function(e){var r=e.data;return c.a.createElement(It,{className:t},c.a.createElement(It.Header,null,c.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},c.a.createElement(It.Title,{readTitle:function(e){return e.dashboard.problems.title}}))),c.a.createElement(It.Body,null,c.a.createElement("ul",{className:"list-group list-group-flush"},n.length>0?n.map((function(e,t){return c.a.createElement(La,{key:t,problem:e,envelopes:a.envelopes,accounts:r.accounts})})):c.a.createElement(za,null))))}))}))}function za(){var e=Et().dashboard;return c.a.createElement("li",{className:"list-group-item text-success"},c.a.createElement("i",{className:"fas fa-fw fa-check-circle mr-1"}),e.noProblems)}function La(e){var t=e.problem,n=e.accounts,a=e.envelopes,r=Object(A.f)(),o=Ma[t.__typename],l=et()({"month-dashboard__problem--clickable":!!o},"list-group-item","text-".concat(qa[t.severity]));return c.a.createElement("li",{className:l,onClick:function(){if(o){var e=("/envelopes"===o?a:n).find((function(e){return e.id===t.id})).name;r.push("".concat(o,"/").concat(e))}}},c.a.createElement("i",{className:"fas fa-fw fa-".concat(Ra[t.severity]," mr-1")}),c.a.createElement(Ua,e))}function Ua(e){var t=e.problem,n=e.envelopes,a=e.accounts,r=Et().dashboard.problems;return c.a.createElement("span",null,"Misplanned"===t.__typename?t.overplanned?r.overplanned:r.underplanned:"NegativeBalanceOnEnvelope"===t.__typename?r.expensesExceedPlans(n.find((function(e){return e.id===t.id})).name):"EnvelopeOverLimit"===t.__typename?r.envelopeOverLimit(n.find((function(e){return e.id===t.id})).name):"NegativeBalanceOnAccount"===t.__typename?r.negativeAccountBalance(a.find((function(e){return e.id===t.id})).name):"MonthStillInProgress"===t.__typename?r.monthNotEnded:t.__typename)}function Ja(){var e=function(e){var t=ze().selectedBudget;return Object(U.b)(te,{variables:{budgetID:t.id,month:e},fetchPolicy:"network-only"})}(ln().currentMonth);return c.a.createElement(jt,null,c.a.createElement(en,{query:e},(function(e){var t=e.data;return c.a.createElement(Mt.a,null,c.a.createElement(Pa,{className:"col-12 d-lg-none px-0",month:t.monthlyReport}),c.a.createElement(Sa,{className:"col-12 col-lg-3",month:t.monthlyReport}),c.a.createElement(_a,{className:"col-12 d-lg-none px-0",problems:t.monthlyReport.problems}),c.a.createElement(Mt.a,{className:"col-12 col-lg-9 flex-lg-column"},c.a.createElement(Pa,{className:"d-none d-lg-block",month:t.monthlyReport}),c.a.createElement(_a,{className:"d-none d-lg-block flex-grow-1",problems:t.monthlyReport.problems})))})))}function Qa(){return c.a.createElement(jt,null,c.a.createElement(jt.Header,{readTitle:function(e){return e.sidebar.pages.plans}}),c.a.createElement(Ea,null))}n(195);function Va(e){var t=e.renderContext;return c.a.createElement("form",{className:"d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-context"},t())}function Wa(e){var t=e.faIcon,n=e.renderContext;return c.a.createElement("li",{className:"nav-item dropdown no-arrow d-sm-none"},c.a.createElement("span",{className:"nav-link dropdown-toggle",id:"contextDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{cursor:"pointer"}},c.a.createElement("i",{className:"fas fa-".concat(t," fa-fw")})),c.a.createElement("div",{className:"dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in","aria-labelledby":"contextDropdown"},c.a.createElement("form",{className:"form-inline mr-auto w-100 navbar-context"},n())))}function Ha(e){var t=e.minified,n=Object(y.a)(e,["minified"]);return t?c.a.createElement(Wa,n):c.a.createElement(Va,n)}function Ga(e){var t=e.renderMenus,n=e.renderContext,a=e.renderUser,r=e.faIconContextMinified,o=ft().toggleSidebar;return c.a.createElement("nav",{className:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},c.a.createElement("button",{onClick:o,className:"btn btn-link d-md-none rounded-circle mr-3"},c.a.createElement("i",{className:"fa fa-bars"})),c.a.createElement(Ha,{minified:!1,renderContext:n}),c.a.createElement("ul",{className:"navbar-nav ml-auto"},c.a.createElement(Ha,{minified:!0,renderContext:n,faIcon:r}),t(),c.a.createElement("div",{className:"topbar-divider d-none d-sm-block"}),a()))}function Ka(e){var t=e.counter,n=t>=3?"3+":""+t;return t>0&&c.a.createElement("span",{className:"badge badge-danger badge-counter"},n)}function Za(e){var t=e.name,n=e.faIcon,a=e.children,r=e.counter,o=et()("fas","fa-fw","fa-".concat(n)),l="topbar--".concat(t||n);return c.a.createElement("li",{className:"nav-item dropdown no-arrow mx-1"},c.a.createElement("span",{className:"nav-link dropdown-toggle",id:l,role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{cursor:"pointer"}},c.a.createElement("i",{className:o}),c.a.createElement(Ka,{counter:r})),c.a.createElement("div",{className:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":l},c.a.createElement("h6",{className:"dropdown-header"},t),a,c.a.createElement("span",{className:"dropdown-item text-center small text-gray-500",style:{cursor:"pointer"}},"Show All")))}function Ya(){var e=ft(),t=e.user,n=e.logout;return c.a.createElement("li",{className:"nav-item dropdown no-arrow"},c.a.createElement("span",{className:"nav-link dropdown-toggle",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},c.a.createElement("span",{className:"mr-2 d-none d-lg-inline text-gray-600 small"},t.name),c.a.createElement("img",{alt:"",className:"img-profile rounded-circle",src:t.picture})),c.a.createElement("ul",{className:"dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"userDropdown"},c.a.createElement("li",{className:"dropdown-item"},c.a.createElement("i",{className:"fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"}),"Settings"),c.a.createElement("div",{className:"dropdown-divider"}),c.a.createElement("li",{className:"dropdown-item","data-toggle":"modal","data-target":"#logoutModal",onClick:function(){return n()}},c.a.createElement("i",{className:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),"Logout")))}function Xa(e){var t=e.label,n=e.value,a=e.onChange,r=e.allowedValues;return c.a.createElement(dn,{label:t,allowedValues:r,value:n,onChange:a})}function er(){var e=ze(),t=e.selectedBudget,n=e.setSelectedBudget,a=e.budgets,r=e.loading,o=e.error,l=Et().topbar,i=r?c.a.createElement(Zt,{size:"sm",variant:"secondary"}):o?c.a.createElement("i",{className:"fas fa-fw fa-exclamation-triangle text-secondary"}):t&&t.name;return c.a.createElement(Xa,{label:l.budgetLabel,value:i,onChange:function(e){var t=a.find((function(t){return t.id===e}));n(t)},allowedValues:a.map((function(e){return{id:e.id,label:e.name}}))})}function tr(){var e=w(),t=e.user,n=e.logout,a=Et().topbar;return c.a.createElement(Ga,{faIconContextMinified:"search",renderContext:function(){return c.a.createElement(er,null)},renderUser:function(){return c.a.createElement(Ya,{name:t.name,pictureUrl:t.picture,logout:n})},renderMenus:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Za,{name:a.alertsLabel,faIcon:"bell",counter:0}),c.a.createElement(Za,{name:a.messagesLabel,faIcon:"envelope",counter:0}))}})}function nr(){return c.a.createElement(jt,null,c.a.createElement(jt.Header,{readTitle:function(e){return e.sidebar.pages.transfers}},c.a.createElement(fn,null)),c.a.createElement(Gn,{readTitle:function(e){return e.transfers.table.title},createButton:c.a.createElement(Wn,null)}))}var ar=function(e){var t=e.sidebar;return[{entries:[{name:t.pages.dashboard,faIcon:"receipt",to:"/"}]},{name:t.sections.currentMonth,entries:[{name:t.pages.expenses,faIcon:"receipt",to:"/expenses"},{name:t.pages.transfers,faIcon:"exchange-alt",to:"/transfers"},{name:t.pages.plans,faIcon:"map-marked-alt",to:"/plans"}]},{name:t.sections.budget,entries:[{name:t.pages.accounts,faIcon:"credit-card",to:"/accounts"},{name:t.pages.envelopes,faIcon:"envelope-open-text",to:"/envelopes"}]}]},rr={pl:$};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var cr=function(e){window.history.replaceState({},document.title,e&&e.targetUrl?e.targetUrl:window.location.pathname)},or="".concat(window.location.origin).concat("/budget-ui"),lr="true"!==Object({NODE_ENV:"production",PUBLIC_URL:"/budget-ui",REACT_APP_GQL_URL:"https://sjanota-budget.herokuapp.com/query"}).REACT_APP_INSECURE_AUTH_DISABLED?function(e){var t=e.children;return c.a.createElement(N,{domain:x.domain,client_id:x.clientId,redirect_uri:or,onRedirectCallback:cr,audience:x.audience,scope:"beta",returnTo:or},c.a.createElement(C,null,t))}:function(e){var t=e.children;return c.a.createElement(I.Provider,{value:{isAuthenticated:!0,loading:!1,loginWithRedirect:function(){},user:{name:"Valerie Luna",picture:"https://source.unsplash.com/QAB-WJcbgJk/60x60",locale:"pl"},getTokenScopes:function(){return Promise.resolve(["beta"])},logout:function(){}}},c.a.createElement(a.a,{client:k()},t))};l.a.render(c.a.createElement(lr,null,c.a.createElement((function(e){var t=e.children,n=w().getTokenScopes,a=Object(r.useState)(),o=Object(h.a)(a,2),l=o[0],i=o[1];return Object(r.useEffect)((function(){n().then(i)}),[i,n]),l?l.some((function(e){return"beta"===e}))?t:c.a.createElement("div",null,"This conent is available only to beta users"):c.a.createElement("div",null)}),null,c.a.createElement(i.a,{basename:"/budget-ui"},c.a.createElement((function(){var e=w(),t=e.user,n=e.logout;return c.a.createElement(Je,null,c.a.createElement(qt,{sidebarProps:{renderBrandName:function(){return"Budget"},renderBrandIcon:function(){return c.a.createElement("i",{className:"fas fa-bold"})},config:ar($)},topbar:tr,copyright:"Budget 2019",dictionaries:rr,user:t,logout:n},c.a.createElement(_e.Consumer,null,(function(e){var t=e.selectedBudget;return t&&c.a.createElement(un,{currentMonth:t.currentMonth.month},c.a.createElement(A.c,null,c.a.createElement(A.a,{path:"/accounts",component:ta}),c.a.createElement(A.a,{path:"/envelopes",component:xa}),c.a.createElement(A.a,{path:"/expenses",component:$a}),c.a.createElement(A.a,{path:"/transfers",component:nr}),c.a.createElement(A.a,{path:"/plans",component:Qa}),c.a.createElement(A.a,{path:"/categories",component:ua}),c.a.createElement(A.a,{path:"/",component:Ja})))}))))}),null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},76:function(e){e.exports=JSON.parse('{"domain":"damp-pond-6290.eu.auth0.com","clientId":"_6lsGfwDBhCDVdGg6_kpHvAX-BAGYST7","audience":"https://backend/api"}')}},[[123,1,2]]]);
//# sourceMappingURL=main.bd2e6155.chunk.js.map