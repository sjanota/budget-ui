(window.webpackJsonpbudget=window.webpackJsonpbudget||[]).push([[0],{100:function(e,t,n){},152:function(e,t,n){},158:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(29),o=n.n(c),i=(n(98),n(99),n(31)),l=n(7),u=r.a.createContext();function s(e){var t=e.user,n=e.logout,c=e.children,o=Object(a.useState)(!1),i=Object(l.a)(o,2),s=i[0],d=i[1];return r.a.createElement(u.Provider,{value:{sidebarToggled:s,user:t,logout:n,toggleSidebar:function(){return d((function(e){return!e}))}}},c)}var d=function(){return Object(a.useContext)(u)},m=(n(100),n(9));function b(e){var t=e.renderContext;return r.a.createElement("form",{className:"d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-context"},t())}function f(e){var t=e.faIcon,n=e.renderContext;return r.a.createElement("li",{className:"nav-item dropdown no-arrow d-sm-none"},r.a.createElement("span",{className:"nav-link dropdown-toggle",id:"contextDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{cursor:"pointer"}},r.a.createElement("i",{className:"fas fa-".concat(t," fa-fw")})),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in","aria-labelledby":"contextDropdown"},r.a.createElement("form",{className:"form-inline mr-auto w-100 navbar-context"},n())))}function p(e){var t=e.minified,n=Object(m.a)(e,["minified"]);return t?r.a.createElement(f,n):r.a.createElement(b,n)}function g(e){var t=e.renderMenus,n=e.renderContext,a=e.renderUser,c=e.faIconContextMinified,o=d().toggleSidebar;return r.a.createElement("nav",{className:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},r.a.createElement("button",{onClick:o,className:"btn btn-link d-md-none rounded-circle mr-3"},r.a.createElement("i",{className:"fa fa-bars"})),r.a.createElement(p,{minified:!1,renderContext:n}),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement(p,{minified:!0,renderContext:n,faIcon:c}),t(),r.a.createElement("div",{className:"topbar-divider d-none d-sm-block"}),a()))}var v=n(5),E=n.n(v);function y(e){var t=e.counter,n=t>=3?"3+":""+t;return t>0&&r.a.createElement("span",{className:"badge badge-danger badge-counter"},n)}function O(e){var t=e.name,n=e.faIcon,a=e.children,c=e.counter,o=E()("fas","fa-fw","fa-".concat(n)),i="topbar--".concat(t||n);return r.a.createElement("li",{className:"nav-item dropdown no-arrow mx-1"},r.a.createElement("span",{className:"nav-link dropdown-toggle",id:i,role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{cursor:"pointer"}},r.a.createElement("i",{className:o}),r.a.createElement(y,{counter:c})),r.a.createElement("div",{className:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":i},r.a.createElement("h6",{className:"dropdown-header"},t),a,r.a.createElement("span",{className:"dropdown-item text-center small text-gray-500",style:{cursor:"pointer"}},"Show All")))}function h(){var e=d(),t=e.user,n=e.logout;return r.a.createElement("li",{className:"nav-item dropdown no-arrow"},r.a.createElement("span",{className:"nav-link dropdown-toggle",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("span",{className:"mr-2 d-none d-lg-inline text-gray-600 small"},t.name),r.a.createElement("img",{alt:"",className:"img-profile rounded-circle",src:t.picture})),r.a.createElement("ul",{className:"dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"userDropdown"},r.a.createElement("li",{className:"dropdown-item"},r.a.createElement("i",{className:"fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"}),"Settings"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("li",{className:"dropdown-item","data-toggle":"modal","data-target":"#logoutModal",onClick:function(){return n()}},r.a.createElement("i",{className:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),"Logout")))}function j(e){var t=e.label,n=e.value,a=e.onChange,c=e.allowedValues;return r.a.createElement("div",{className:"input-group navbar-context-switcher",style:{display:"flex",alignContent:"stretch"}},r.a.createElement("div",{className:"input-group-prepend navbar-context-switcher-label"},r.a.createElement("label",{className:"input-group-text border-0"},t)),r.a.createElement("div",{className:"input-group-append btn-group",style:{flexGrow:1}},r.a.createElement("span",{className:"input-group-text bg-light border-0 navbar-context-display text-dark","aria-label":t,style:{flexGrow:1}},n),r.a.createElement("button",{className:"btn btn-primary dropdown-toggle dropdown-toggle-split no-arrow","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{maxWidth:"2rem"}}),r.a.createElement("div",{className:"dropdown-menu"},c.map((function(e){return r.a.createElement("span",{className:"dropdown-item",onClick:function(){return a(e.id)},key:e.id},e.label)})))))}var D=n(12),w=n(17),I=n(10),k=n(11),N=n.n(k),T=n(13);function P(){var e=Object(I.a)(["\n  query GetCurrentMonthlyReport($budgetID: ID!) {\n    budget(budgetID: $budgetID) {\n      currentMonth {\n        ...MonthlyReport\n      }\n    }\n  }\n  ","\n"]);return P=function(){return e},e}function C(){var e=Object(I.a)(["\n  fragment MonthlyReport on MonthlyReport {\n    month\n    totalPlannedAmount\n    totalIncomeAmount\n    totalExpenseAmount\n    problems {\n      severity\n      ... on EnvelopeOverLimit {\n        id\n      }\n      ... on NegativeBalanceOnAccount {\n        id\n      }\n      ... on NegativeBalanceOnEnvelope {\n        id\n      }\n      ... on Misplanned {\n        overplanned\n      }\n    }\n  }\n"]);return C=function(){return e},e}var x=N()(C()),$=N()(P(),x);var A=n(15);function S(){var e=Object(I.a)(["\n  mutation UpdateEnvelope($budgetID: ID!, $id: ID!, $input: EnvelopeUpdate!) {\n    updateEnvelope(budgetID: $budgetID, id: $id, in: $input) {\n      id\n      name\n      balance\n      limit\n    }\n  }\n"]);return S=function(){return e},e}function B(){var e=Object(I.a)(["\n  mutation CreateEnvelope($budgetID: ID!, $input: EnvelopeInput!) {\n    createEnvelope(budgetID: $budgetID, in: $input) {\n      id\n      name\n      balance\n      limit\n    }\n  }\n"]);return B=function(){return e},e}function q(){var e=Object(I.a)(["\n  query GetEnvelopes($budgetID: ID!) {\n    envelopes(budgetID: $budgetID) {\n      id\n      name\n      balance\n      limit\n    }\n  }\n"]);return q=function(){return e},e}var R=N()(q()),M=N()(B()),F=N()(S());function _(){var e=Se().selectedBudget;return Object(T.b)(R,{variables:{budgetID:e.id}})}function z(e,t){var n=e.findIndex((function(e){return e.id===t}));return-1===n?e:[].concat(Object(D.a)(e.slice(0,n)),Object(D.a)(e.slice(n+1,e.length)))}function L(){var e=Object(I.a)(["\n  mutation deletePlan($budgetID: ID!, $id: ID!) {\n    deletePlan(budgetID: $budgetID, id: $id) {\n      id\n    }\n  }\n"]);return L=function(){return e},e}function U(){var e=Object(I.a)(["\n  mutation updatePlan($budgetID: ID!, $id: ID!, $input: PlanUpdate!) {\n    updatePlan(budgetID: $budgetID, id: $id, in: $input) {\n      ...Plan\n    }\n  }\n  ","\n"]);return U=function(){return e},e}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Object(A.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(){var e=Object(I.a)(["\n  mutation createPlan($budgetID: ID!, $input: PlanInput!) {\n    createPlan(budgetID: $budgetID, in: $input) {\n      ...Plan\n    }\n  }\n  ","\n"]);return V=function(){return e},e}function G(){var e=Object(I.a)(["\n  query getCurrentPlans($budgetID: ID!) {\n    budget(budgetID: $budgetID) {\n      currentMonth {\n        plans {\n          ...Plan\n        }\n      }\n    }\n  }\n  ","\n"]);return G=function(){return e},e}function W(){var e=Object(I.a)(["\n  fragment Plan on Plan {\n    id\n    title\n    fromEnvelope {\n      id\n      name\n    }\n    toEnvelope {\n      id\n      name\n    }\n    currentAmount\n    recurringAmount\n  }\n"]);return W=function(){return e},e}var K=N()(W()),H=N()(G(),K);var Z=N()(V(),K);var Y=N()(U(),K);var X=N()(L());function ee(){var e=Object(I.a)(["\n  mutation UpdateAccount($budgetID: ID!, $id: ID!, $input: AccountUpdate!) {\n    updateAccount(budgetID: $budgetID, id: $id, in: $input) {\n      id\n      name\n      balance\n    }\n  }\n"]);return ee=function(){return e},e}function te(){var e=Object(I.a)(["\n  mutation CreateAccount($budgetID: ID!, $input: AccountInput!) {\n    createAccount(budgetID: $budgetID, in: $input) {\n      id\n      name\n      balance\n    }\n  }\n"]);return te=function(){return e},e}function ne(){var e=Object(I.a)(["\n  query GetAccounts($budgetID: ID!) {\n    accounts(budgetID: $budgetID) {\n      id\n      name\n      balance\n    }\n  }\n"]);return ne=function(){return e},e}var ae=N()(ne());function re(){var e=Se().selectedBudget;return Object(T.b)(ae,{variables:{budgetID:e.id}})}var ce=N()(te());var oe=N()(ee());function ie(){var e=Object(I.a)(["\n  mutation deleteTransfer($budgetID: ID!, $id: ID!) {\n    deleteTransfer(budgetID: $budgetID, id: $id) {\n      id\n    }\n  }\n"]);return ie=function(){return e},e}function le(){var e=Object(I.a)(["\n  mutation updateTransfer($budgetID: ID!, $id: ID!, $input: TransferUpdate!) {\n    updateTransfer(budgetID: $budgetID, id: $id, in: $input) {\n      ...Transfer\n    }\n  }\n  ","\n"]);return le=function(){return e},e}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){Object(A.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(){var e=Object(I.a)(["\n  mutation createTransfer($budgetID: ID!, $input: TransferInput!) {\n    createTransfer(budgetID: $budgetID, in: $input) {\n      ...Transfer\n    }\n  }\n  ","\n"]);return de=function(){return e},e}function me(){var e=Object(I.a)(["\n  query getCurrentTransfers($budgetID: ID!) {\n    budget(budgetID: $budgetID) {\n      currentMonth {\n        transfers {\n          ...Transfer\n        }\n      }\n    }\n  }\n  ","\n"]);return me=function(){return e},e}function be(){var e=Object(I.a)(["\n  fragment Transfer on Transfer {\n    id\n    title\n    fromAccount {\n      id\n      name\n    }\n    toAccount {\n      id\n      name\n    }\n    amount\n    date\n  }\n"]);return be=function(){return e},e}var fe=N()(be()),pe=N()(me(),fe);var ge=N()(de(),fe);var ve=N()(le(),fe);var Ee=N()(ie());function ye(){var e=Object(I.a)(["\n  mutation deleteExpense($budgetID: ID!, $id: ID!) {\n    deleteExpense(budgetID: $budgetID, id: $id) {\n      id\n    }\n  }\n"]);return ye=function(){return e},e}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Object(A.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(){var e=Object(I.a)(["\n  mutation updateExpense($budgetID: ID!, $id: ID!, $input: ExpenseUpdate!) {\n    updateExpense(budgetID: $budgetID, id: $id, in: $input) {\n      ...Expense\n    }\n  }\n\n  ","\n"]);return je=function(){return e},e}function De(){var e=Object(I.a)(["\n  mutation createExpense($budgetID: ID!, $input: ExpenseInput!) {\n    createExpense(budgetID: $budgetID, in: $input) {\n      ...Expense\n    }\n  }\n\n  ","\n"]);return De=function(){return e},e}function we(){var e=Object(I.a)(["\n  query getCurrentExpenses($budgetID: ID!) {\n    budget(budgetID: $budgetID) {\n      currentMonth {\n        expenses {\n          ...Expense\n        }\n      }\n    }\n  }\n\n  ","\n"]);return we=function(){return e},e}function Ie(){var e=Object(I.a)(["\n  fragment Expense on Expense {\n    id\n    title\n    account {\n      id\n      name\n    }\n    categories {\n      category {\n        id\n        name\n      }\n      amount\n    }\n    totalAmount\n    date\n  }\n"]);return Ie=function(){return e},e}var ke=N()(Ie()),Ne=N()(we(),ke),Te=N()(De(),ke),Pe=N()(je(),ke);var Ce=N()(ye());function xe(){var e=Object(I.a)(["\n  mutation closeMonth($budgetID: ID!) {\n    closeCurrentMonth(budgetID: $budgetID) {\n      id\n    }\n  }\n"]);return xe=function(){return e},e}function $e(){var e=Object(I.a)(["\n  query GetBudgets {\n    budgets {\n      id\n      name\n      currentMonth {\n        month\n      }\n    }\n  }\n"]);return $e=function(){return e},e}var Ae=Object(a.createContext)(),Se=function(){return Object(a.useContext)(Ae)},Be=N()($e()),qe="LAST-CHOSEN-BUDGET-ID";function Re(e){var t=e.children,n=Object(a.useState)(null),c=Object(l.a)(n,2),o=c[0],i=c[1],u=Object(T.b)(Be),s=u.loading,d=u.error,m=u.data;Object(a.useEffect)((function(){o&&sessionStorage.setItem(qe,o.id)}),[o]),Object(a.useEffect)((function(){if(!o&&m&&m.budgets){var e=sessionStorage.getItem(qe),t=m.budgets.find((function(t){return t.id===e}));t&&i(t)}}),[m,o]);var b={selectedBudget:o,setSelectedBudget:i,loading:s,error:d,budgets:s||d?[]:m.budgets};return d&&console.error(d),r.a.createElement(Ae.Provider,{value:b},t)}var Me=N()(xe());function Fe(e){var t,n=e.size,a=e.variant,c=E()("spinner-border",(t={},Object(A.a)(t,"spinner-border-".concat(n),n),Object(A.a)(t,"text-".concat(a),a),t));return r.a.createElement("div",{className:c,role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ze=Object(a.createContext)();function Le(e){var t=e.dictionaries,n=e.children,a=d().user;return r.a.createElement(ze.Provider,{value:t[a.locale]},n)}var Ue=function(){return Object(a.useContext)(ze)};function Je(e,t,n){return function(a){var c,o=a[n=n||"read".concat((c=e).charAt(0).toUpperCase()+c.slice(1))],i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Object(A.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a);delete i[n];var l=Ue();return o&&(i[e]=o(l)),r.a.createElement(t,i)}}var Qe=Je("title",(function(e){var t=e.title,n=e.className,a=E()("m-0","font-weight-bold","text-primary",n);return r.a.createElement("h6",{className:a},t)}));function Ve(e){var t=e.children,n=e.className;return r.a.createElement("div",{className:E()("card","shadow","mb-4",n)},t)}Ve.Title=Qe,Ve.Header=function(e){var t=e.className,n=e.children;return r.a.createElement("div",{className:E()(t,"card-header")},n)},Ve.Body=function(e){var t=e.className,n=e.children;return r.a.createElement("div",{className:E()(t,"card-body")},n)};var Ge=n(81),We=n.n(Ge);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function He(e,t){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Object(A.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{text:t[e.dataField]||""})}))}var Ze=Je("columnNames",(function(e){var t=e.columns,n=e.columnNames,a=Object(m.a)(e,["columns","columnNames"]);return r.a.createElement(We.a,Object.assign({bootstrap4:!0,columns:He(t,n)},a))}));function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Xe=Je("title",(function(e){var t=e.title,n=e.columns,a=e.headerButtons,c=e.panelClassName,o=Object(m.a)(e,["title","columns","headerButtons","panelClassName"]),i=[function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){Object(A.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n[0],{classes:"pl-3",headerClasses:"pl-3"})].concat(Object(D.a)(n.slice(1,n.length)));return r.a.createElement(Ve,{className:c},r.a.createElement(Ve.Header,{className:"p-2 pl-3"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement(Ve.Title,{title:t,className:"table-panel--title"}),r.a.createElement("div",null,a))),r.a.createElement(Ve.Body,{className:"p-0"},r.a.createElement(Ze,Object.assign({classes:"table-layout-auto table-sm m-0",striped:!0,hover:!0,bordered:!1,columns:i},o))))})),et=n(165);function tt(e){var t=e.button,n=e.modalContent,c=e.onClickRef,o=Object(m.a)(e,["button","modalContent","onClickRef"]),i=Object(a.useState)(!1),u=Object(l.a)(i,2),s=u[0],d=u[1],b=function(){return d(!1)},f=function(){return d(!0)};return c&&(c.current=f),r.a.createElement("span",null,r.a.createElement(t,{onClick:f}),r.a.createElement(et.a,Object.assign({show:s,onHide:b},o),r.a.createElement(n,{onHide:b})))}var nt=Je("title",(function(e){var t=e.title;return r.a.createElement("h1",{className:"h3 mb-4 text-gray-800"},t)}));function at(e){var t=e.children;return r.a.createElement("div",{className:"container-fluid"},t)}function rt(e){var t=e.icon;return r.a.createElement("i",{className:"fas fa-".concat(t," fa-fw")})}at.Header=nt,rt.Archive="archive",rt.Trash="trash-alt",rt.Edit="edit",rt.Plus="plus",rt.Minus="minus",rt.Save="save",rt.ClipboardCheck="clipboard-check";var ct={secondary:"secondary",primary:"primary",danger:"danger",success:"success",warning:"warning",white:"white"},ot={sm:"sm",lg:"lg"};function it(e){var t=e.icon,n=e.variant,a=e.className,c=e.onClick,o=Object(m.a)(e,["icon","variant","className","onClick"]),i=E()("btn","bg-transparent","border-0","p-0","mx-1",a,Object(A.a)({},"text-".concat(n),n));return r.a.createElement("button",Object.assign({className:i,onClick:function(e){e.stopPropagation(),e.preventDefault(),c&&c(e)}},o),r.a.createElement(rt,{icon:t}))}function lt(e){var t,n=e.children,a=e.icon,c=e.variant,o=e.size,i=e.className,l=e.disabled,u=e._ref,s=Object(m.a)(e,["children","icon","variant","size","className","disabled","_ref"]),d=E()("btn","btn-icon-split",i,(t={disabled:l},Object(A.a)(t,"btn-".concat(o),o),Object(A.a)(t,"btn-".concat(c),c),t));return r.a.createElement("button",Object.assign({className:d,disabled:l,ref:u},s),r.a.createElement("span",{className:"icon text-white-50"},r.a.createElement(rt,{icon:a})),r.a.createElement("span",{className:"text"},n))}var ut=n(26);function st(){return r.a.createElement(at,null,r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"error mx-auto","data-text":"404"},"404"),r.a.createElement("p",{className:"lead text-gray-800 mb-5"},"Page Not Found"),r.a.createElement("p",{className:"text-gray-500 mb-0"},"It looks like you found a glitch in the matrix..."),r.a.createElement(ut.b,{to:"/"},"\u2190 Back to Dashboard")))}function dt(e){var t=e.name,n=e.parent,a=e.sections,c=e.faIcon,o=function(e,t){return e.some((function(e){return e.routes.some((function(e){var n=e.to;return t.pathname===n}))}))}(a,Object(i.f)()),l=E()("nav-item",{active:o}),u="sidebar--"+t,s=E()("fas","fa-fw","fa-".concat(c));return r.a.createElement("li",{className:l},r.a.createElement("span",{className:"nav-link collapsed","data-toggle":"collapse","data-target":"#"+u,"aria-expanded":"true","aria-controls":u},r.a.createElement("i",{className:s}),r.a.createElement("span",null,t)),r.a.createElement("div",{id:u,className:"collapse","data-parent":"#"+n},r.a.createElement("div",{className:"bg-white py-2 collapse-inner rounded"},a.map((function(e){var t=e.name,n=e.routes;return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("h6",{className:"collapse-header"},t,":"),n.map((function(e){var t=e.to,n=e.label;return r.a.createElement(ut.c,{key:n,className:"collapse-item",to:t},n)})))})))))}function mt(e){var t=e.name,n=e.to,a=e.faIcon,c=E()("fas","fa-fw","fa-".concat(a));return r.a.createElement("li",{className:"nav-item"},r.a.createElement(ut.c,{className:"nav-link",exact:!0,to:n},r.a.createElement("i",{className:c}),r.a.createElement("span",null,t)))}function bt(e){var t=e.group;return r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",{className:"sidebar-divider my-1"}),t.name&&r.a.createElement("div",{className:"sidebar-heading"},t.name),t.entries.map((function(e){return void 0!==e.to?r.a.createElement(mt,Object.assign({key:e.name},e)):r.a.createElement(dt,Object.assign({key:e.name,parent:"accordionSidebar"},e))})))}n(152);function ft(e){var t=e.renderBrandName,n=e.renderBrandIcon,a=e.config,c=d(),o=c.sidebarToggled,i=c.toggleSidebar,l=E()("navbar-nav","bg-gradient-primary","sidebar","sidebar-dark","accordion",{toggled:o});return r.a.createElement("ul",{className:l,id:"accordionSidebar"},r.a.createElement(ut.b,{className:"sidebar-brand d-flex align-items-center justify-content-center",to:"/"},r.a.createElement("div",{className:"sidebar-brand-icon rotate-n-15"},n()),r.a.createElement("div",{className:"sidebar-brand-text mx-3"},t())),a.map((function(e,t){return r.a.createElement(bt,{key:e.name||t,group:e})})),r.a.createElement("hr",{className:"sidebar-divider d-none d-md-block"}),r.a.createElement("div",{className:"text-center d-none d-md-inline"},r.a.createElement("button",{className:"rounded-circle border-0",id:"sidebarToggle",onClick:i})))}function pt(e){var t=e.sidebarProps,n=e.topbar,a=e.user,c=e.logout,o=e.children,l=e.dictionaries,u=e.copyright,d=n;return r.a.createElement(s,{user:a,logout:c},r.a.createElement(Le,{dictionaries:l},r.a.createElement("div",{id:"wrapper"},r.a.createElement(ft,t),r.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},r.a.createElement("div",{id:"content"},r.a.createElement(d,null),r.a.createElement(i.c,null,o,r.a.createElement(i.a,{component:st}))))),r.a.createElement("footer",{className:"sticky-footer bg-white"},r.a.createElement("div",{className:"container my-auto"},r.a.createElement("div",{className:"copyright text-center my-auto"},r.a.createElement("span",null,"Copyright \xa9 ",u))))))}var gt=n(166),vt=n(164),Et=n(86);function yt(e){var t=e.label,n=e.inline,a=Object(m.a)(e,["label","inline"]);return r.a.createElement(gt.a.Group,{className:"mb-3",as:!!n&&vt.a},r.a.createElement(gt.a.Label,{column:!!n},t),r.a.createElement(yt.Input,Object.assign({inline:n},a)))}function Ot(e){var t=Ue().buttons;return r.a.createElement(lt,Object.assign({icon:rt.Save,size:ot.sm,variant:ct.primary},e),t.save)}function ht(e){var t=e.onClick,n=Ue().buttons;return r.a.createElement(lt,{variant:ct.danger,icon:rt.Save,size:ot.sm,onClick:t},n.cancel)}function jt(e){var t=e.title,n=e.onHide,c=e.onSave,o=e.formData,i=e.children,u=Object(a.useState)(!1),s=Object(l.a)(u,2),d=s[0],m=s[1],b=Object(a.useRef)();function f(e){e.preventDefault(),e.stopPropagation();var t=b.current.checkValidity();if(m(!0),t){if(o.changed()){var a=o.value();c(a)}n(),m(!1)}}return r.a.createElement(gt.a,{validated:d,ref:b,onSubmit:f},r.a.createElement(et.a.Header,{closeButton:!0,className:"m-0 font-weight-bold text-primary bg-light"},r.a.createElement(et.a.Title,null,t)),r.a.createElement(et.a.Body,null,i),r.a.createElement(et.a.Footer,{className:" bg-light"},r.a.createElement(ht,{onClick:n}),r.a.createElement(Ot,{onClick:f})))}function Dt(){var e=Se(),t=e.selectedBudget,n=e.setSelectedBudget,a=e.budgets,c=e.loading,o=e.error,i=Ue().topbar,l=c?r.a.createElement(Fe,{size:"sm",variant:"secondary"}):o?r.a.createElement("i",{className:"fas fa-fw fa-exclamation-triangle text-secondary"}):t&&t.name;return r.a.createElement(j,{label:i.budgetLabel,value:l,onChange:function(e){var t=a.find((function(t){return t.id===e}));n(t)},allowedValues:a.map((function(e){return{id:e.id,label:e.name}}))})}yt.Input=function(e){var t=e.inline,n=e.formData,a=e.feedback,c=Object(m.a)(e,["inline","formData","feedback"]);return(t?function(e){return r.a.createElement(Et.a,{sm:t},e)}:function(e){return e})(r.a.createElement(r.a.Fragment,null,r.a.createElement(gt.a.Control,Object.assign({ref:n,defaultValue:n.default()},c)),r.a.createElement(gt.a.Control.Feedback,{type:"invalid"},a)))},yt.defaultProps={inline:0};var wt=n(32),It=n.n(wt),kt=n(46),Nt=n(87),Tt=n.n(Nt);function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Object(A.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xt=function(){return window.history.replaceState({},document.title,window.location.pathname)},$t=r.a.createContext(),At=function(){return Object(a.useContext)($t)},St=function(e){var t=e.children,n=e.onRedirectCallback,c=void 0===n?xt:n,o=e.returnTo,i=Object(m.a)(e,["children","onRedirectCallback","returnTo"]),u=Object(a.useState)(),s=Object(l.a)(u,2),d=s[0],b=s[1],f=Object(a.useState)(),p=Object(l.a)(f,2),g=p[0],v=p[1],E=Object(a.useState)(),y=Object(l.a)(E,2),O=y[0],h=y[1],j=Object(a.useState)(),D=Object(l.a)(j,2),w=D[0],I=D[1],k=Object(a.useState)(!0),N=Object(l.a)(k,2),T=N[0],P=N[1],C=Object(a.useState)(!1),x=Object(l.a)(C,2),$=x[0],A=x[1];Object(a.useEffect)((function(){(function(){var e=Object(kt.a)(It.a.mark((function e(){var t,n,a,r,o,l;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt()(i);case 2:if(t=e.sent,I(t),!window.location.search.includes("code=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:n=e.sent,a=n.appState,c(a);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,b(r),!r){e.next=23;break}return e.next=17,t.getUser();case 17:return o=e.sent,v(o),e.next=21,t.getTokenSilently();case 21:l=e.sent,h(l);case 23:P(!1);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var S=function(){var e=Object(kt.a)(It.a.mark((function e(){var t,n,a=arguments;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},A(!0),e.prev=2,e.next=5,w.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,A(!1),e.finish(10);case 13:return e.next=15,w.getUser();case 15:n=e.sent,v(n),b(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(kt.a)(It.a.mark((function e(){var t;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,w.handleRedirectCallback();case 3:return e.next=5,w.getUser();case 5:t=e.sent,P(!1),b(!0),v(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement($t.Provider,{value:{token:O,isAuthenticated:d,user:g,loading:T,popupOpen:$,loginWithPopup:S,handleRedirectCallback:B,getIdTokenClaims:function(){return w.getIdTokenClaims.apply(w,arguments)},loginWithRedirect:function(){return w.loginWithRedirect.apply(w,arguments)},getTokenSilently:function(){return w.getTokenSilently.apply(w,arguments)},getTokenWithPopup:function(){return w.getTokenWithPopup.apply(w,arguments)},logout:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w.logout(Ct({},t,{returnTo:o}))},getTokenScopes:function(){var e=Object(kt.a)(It.a.mark((function e(){var t,n,a,r,c=arguments;return It.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getTokenSilently.apply(w,c);case 2:return t=e.sent,n=t.split(".")[1],a=JSON.parse(atob(n)),r=a.scope.split(" "),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},t)};function Bt(){var e=At(),t=e.user,n=e.logout,a=Ue().topbar;return r.a.createElement(g,{faIconContextMinified:"search",renderContext:function(){return r.a.createElement(Dt,null)},renderUser:function(){return r.a.createElement(h,{name:t.name,pictureUrl:t.picture,logout:n})},renderMenus:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{name:a.alertsLabel,faIcon:"bell",counter:0}),r.a.createElement(O,{name:a.messagesLabel,faIcon:"envelope",counter:0}))}})}var qt=function(e){var t=e.sidebar;return[{entries:[{name:t.pages.dashboard,faIcon:"receipt",to:"/"}]},{name:t.sections.currentMonth,entries:[{name:t.pages.expenses,faIcon:"receipt",to:"/expenses"},{name:t.pages.transfers,faIcon:"exchange-alt",to:"/transfers"},{name:t.pages.plans,faIcon:"map-marked-alt",to:"/plans"}]},{name:t.sections.budget,entries:[{name:t.pages.accounts,faIcon:"credit-card",to:"/accounts"},{name:t.pages.envelopes,faIcon:"envelope-open-text",to:"/envelopes"}]}]},Rt=n(167);function Mt(e){var t=e.className,n=Object(m.a)(e,["className"]),a=E()("btn-sm","btn-secondary",t);return r.a.createElement(Rt.a,Object.assign({className:a},n),r.a.createElement("i",{className:"fas fa-fw fa-sync-alt"}))}function Ft(e){var t=e.errorMessage,n=e.subErrors;return r.a.createElement(r.a.Fragment,null,t,r.a.createElement("ul",null,n.map((function(e,t){return r.a.createElement("li",{key:t},e)}))))}function _t(e){var t=e.error,n=t.networkError?t.networkError.result.errors:t.graphQLErrors.map((function(e){return"".concat(e.path.join("."),": ").concat(e.message)}));return r.a.createElement("div",{className:"text-danger"},r.a.createElement("i",{className:"fas fa-fw fa-exclamation-triangle"}),r.a.createElement(Ft,{errorMessage:t.message,subErrors:n}))}function zt(e){var t=e.query,n=e.showError,a=e.children,c=Object(m.a)(e,["query","showError","children"]),o=t.loading,i=t.error;return o?r.a.createElement(Fe,c):i?n&&r.a.createElement(_t,{error:i}):a(t)}function Lt(e){var t=e.query,n=e.buttons,a=e.getData,c=Object(m.a)(e,["query","buttons","getData"]);return r.a.createElement(zt,{query:t,size:"sm",showError:!1},(function(e){var t=e.refetch,o=e.data;return r.a.createElement(Xe,Object.assign({headerButtons:r.a.createElement(r.a.Fragment,null,r.a.createElement(Mt,{onClick:function(){return t()},className:"mr-1"}),n),data:a(o)},c))}))}zt.defaultProps={showError:!0};var Ut=n(39),Jt=n(40),Qt=function(){function e(){Object(Ut.a)(this,e)}return Object(Jt.a)(e,null,[{key:"parse",value:function(e){return null===e||""===e?null:Math.round(100*Number(e))}},{key:"zero",value:function(){return 0}},{key:"format",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(null===e)return null;var n=(e/100).toFixed(2);if(!t)return n;var a=n.split(".");return a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),a.join(".")}}]),e}();function Vt(e){var t=e.onClick,n=Object(m.a)(e,["onClick"]),a=Ue().buttons;return r.a.createElement(lt,Object.assign({icon:rt.Plus,size:ot.sm,variant:ct.primary,onClick:t},n),a.create)}function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){Object(A.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kt(e,t,n){return Object.prototype.hasOwnProperty.call(e,"$init")?Object.prototype.hasOwnProperty.call(e,"$model")?function(e,t,n){var a=e.$model,r=e.$init,c=r.map((function(e){return Kt(a(e),t)}),n);return c._originalPush=c.push,c.value=function(){return c.map((function(e){return e.value()}))},c.changed=function(){return c.length!==r.length||c.some((function(e){return e.changed()}))},c.push=function(e){c._originalPush(Kt(a(e),t)),t()},c.removeAt=function(e){c.splice(e,1),t()},c}(e,t,n):function(e,t){var n=e.$init,a=e.$process,r=e.$default,c=a||function(e){return e},o={current:null},i="function"===typeof r?function(){return r(t())}:function(){return r};return o.value=function(){return null===o.current?null:c(o.current.value)},o.changed=function(){return null===o.current?null!==n:o.current.value!==n},o.default=function(){return null!==n&&void 0!==n?n:i()},o.init=function(){return n},o}(e,n):function(e,t,n){var a=e.$includeAllValues,r=Object(m.a)(e,["$includeAllValues"]),c=Object.keys(r).reduce((function(e,a){return Wt({},e,Object(A.a)({},a,Kt(r[a],t,n)))}),{});return c.changed=function(){return Object.keys(r).some((function(e){return c[e].changed()}))},c.value=function(){return Object.keys(r).reduce((function(e,t){return c[t].changed()||a?Wt({},e,Object(A.a)({},t,c[t].value())):e}),{})},c}(e,t,n)}function Ht(e){var t,n=Object(a.useState)(!1),r=Object(l.a)(n,2)[1];return t=Kt(e,(function(){return r((function(e){return!e}))}),(function(){return t})),Object(a.useRef)(t).current}function Zt(e){var t=e.init,n=Object(m.a)(e,["init"]),a=Ue().accounts,c=Ht({name:{$init:t.name}});return r.a.createElement(jt,Object.assign({formData:c,autoFocusRef:c.name},n),r.a.createElement(yt,{label:a.modal.labels.name,inline:10,formData:c.name,feedback:"Provide name"}))}function Yt(){var e=function(){var e=Se().selectedBudget,t=Object(T.a)(ce,{update:function(t,n){var a=n.data.createAccount,r=t.readQuery({query:ae,variables:{budgetID:e.id}}).accounts;t.writeQuery({query:ae,variables:{budgetID:e.id},data:{accounts:r.concat([a])}})}}),n=Object(w.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,input:t}})}].concat(Object(D.a)(r))}(),t=Object(l.a)(e,1)[0],n=Ue().accounts;return r.a.createElement(tt,{button:function(e){return r.a.createElement(Vt,e)},modalContent:function(e){return r.a.createElement(Zt,Object.assign({init:{name:""},title:n.modal.createTitle,onSave:t},e))}})}n(158);function Xt(e){var t=e.account,n=function(){var e=Se().selectedBudget,t=Object(T.a)(oe),n=Object(w.a)(t),a=n[0],r=n.slice(1);return[function(t,n){a({variables:{budgetID:e.id,id:t,input:n}})}].concat(Object(D.a)(r))}(),a=Object(l.a)(n,1)[0],c=Ue().accounts;return r.a.createElement(tt,{button:function(e){return r.a.createElement(it,Object.assign({className:"accounts__update-button",icon:rt.Edit,variant:ct.primary},e))},modalContent:function(e){return r.a.createElement(Zt,Object.assign({init:t,title:c.modal.editTitle,onSave:function(e){return a(t.id,e)}},e))}})}var en=[{dataField:"name",sort:!0},{dataField:"balance",align:"right",headerAlign:"right",formatter:Qt.format},{dataField:"actions",isDummyColumn:!0,formatter:function(e,t){return r.a.createElement("span",null,r.a.createElement(Xt,{account:t}),r.a.createElement("span",{style:{cursor:"pointer"}},r.a.createElement("i",{className:"fas fa-archive fa-fw"})))},style:{whiteSpace:"nowrap",width:"1%"}}],tn=[{dataField:"name",order:"asc"}];function nn(e){var t=e.onSelectAcount,n=re(),a={mode:"radio",clickToSelect:!0,hideSelectColumn:!0,classes:"text-white bg-primary selected",onSelect:function(e){return t(e)}};return r.a.createElement(Lt,{query:n,getData:function(e){return e.accounts},buttons:r.a.createElement(Yt,null),columns:en,keyField:"id",readTitle:function(e){return e.accounts.table.title},readColumnNames:function(e){return e.accounts.table.columns},selectRow:a,defaultSorted:tn})}function an(e){var t=e.expense,n=function(){var e=Se().selectedBudget,t=Object(T.a)(Ce,{update:function(t,n){var a=n.data.deleteExpense,r=t.readQuery({query:Ne,variables:{budgetID:e.id}}).budget;t.writeQuery({query:Ne,variables:{budgetID:e.id},data:{budget:he({},r,{currentMonth:he({},r.currentMonth,{expenses:z(r.currentMonth.expenses,a.id)})})}})},refetchQueries:function(){return[{query:ae,variables:{budgetID:e.id}},{query:R,variables:{budgetID:e.id}},{query:$,variables:{budgetID:e.id}}]}}),n=Object(w.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,id:t}})}].concat(Object(D.a)(r))}(),a=Object(l.a)(n,1)[0];return r.a.createElement(it,{icon:rt.Trash,variant:ct.secondary,onClick:function(){return a(t.id)}})}var rn=function(){function e(t,n,a){Object(Ut.a)(this,e),this.year=t,this.month=n,this.day=a}return Object(Jt.a)(e,[{key:"format",value:function(){return"".concat(this.year,"-").concat(String(this.month).padStart(2,"0"),"-").concat(String(this.day).padStart(2,"0"))}}],[{key:"fromDate",value:function(e){return new Date(e.getYear(),e.getMonth(),e.getDate())}}]),e}(),cn=["January","February","March","April","May","June","July","August","September","October","November","December"],on=function(){function e(t,n){Object(Ut.a)(this,e),this.year=t,this.month=n}return Object(Jt.a)(e,[{key:"firstDay",value:function(){return new rn(this.year,this.month,1)}},{key:"lastDay",value:function(){var e=new Date(this.year,this.month,0);return new rn(this.year,this.month,e.getDate())}},{key:"pretty",value:function(){return"".concat(cn[this.month-1]," ").concat(this.year)}}],[{key:"parse",value:function(t){var n=t.split("-"),a=Object(l.a)(n,2),r=a[0],c=a[1];return new e(Number(r),Number(c))}}]),e}();function ln(e){var t=e.allowedValues,n=e._ref,c=e.defaultValue,o=e.className,i=t.find((function(e){return e.id===c})),u=Object(a.useState)(!1),s=Object(l.a)(u,2),d=s[0],m=s[1],b=Object(a.useState)(i?i.label:""),f=Object(l.a)(b,2),p=f[0],g=f[1],v=Object(a.useState)(0),y=Object(l.a)(v,2),O=y[0],h=y[1],j=Object(a.useRef)(),D=E()("input-group",o),w=t.filter((function(e){return e.label.toLowerCase().includes(p.toLowerCase())}));function I(e){var a=t.find((function(t){return t.id===e})).label;m(!1),g(a),n.current={value:e}}return Object(a.useEffect)((function(){n.current={value:c}}),[]),r.a.createElement("div",{className:D},r.a.createElement("input",{className:"form-control",value:p,type:"text",onChange:function(e){var a=e.target.value;m(!0),g(a),h(0);var r=t.find((function(e){return e.label===a}));r&&(n.current={value:r.id})},onBlur:function(){m(!1),t.find((function(e){return e.label===p}))||g("")},onKeyDown:function(e){40===e.keyCode?(e.preventDefault(),O>=w.length-1?h(0):h((function(e){return e+1}))):38===e.keyCode?(e.preventDefault(),h(O<=0?w.length-1:function(e){return e-1})):13===e.keyCode&&d&&(e.preventDefault(),I(w[O].id))}}),r.a.createElement("button",{className:"btn btn-secondary dropdown-toggle dropdown-toggle-split no-arrow","data-toggle":"dropdown","data-reference":"parent","data-flip":"false",style:{maxWidth:"2rem",borderTopLeftRadius:0,borderBottomLeftRadius:0,margin:-1}}),r.a.createElement("ul",{ref:j,role:"menu",className:E()("dropdown-menu",{show:d}),style:{maxHeight:"200px",overflowY:"auto"}},w.map((function(e,t){return r.a.createElement("li",{className:"dropdown-item ".concat(t===O?"active":""),onClick:function(){return I(e.id)},key:e.id},e.label)}))))}function un(e){var t=e.label,n=e.size,a=e.feedback,c=e.children;return r.a.createElement(gt.a.Group,{as:vt.a},r.a.createElement(gt.a.Label,{column:!0},t),r.a.createElement(Et.a,{sm:n},c,a&&r.a.createElement(gt.a.Control.Feedback,{type:"invalid"},a)))}function sn(){var e=Object(I.a)(["\n  mutation UpdateCategory($budgetID: ID!, $id: ID!, $input: CategoryUpdate!) {\n    updateCategory(budgetID: $budgetID, id: $id, in: $input) {\n      id\n      name\n      envelope {\n        id\n        name\n      }\n      description\n    }\n  }\n"]);return sn=function(){return e},e}function dn(){var e=Object(I.a)(["\n  mutation CreateCategory($budgetID: ID!, $input: CategoryInput!) {\n    createCategory(budgetID: $budgetID, in: $input) {\n      id\n      name\n      envelope {\n        id\n        name\n      }\n      description\n    }\n  }\n"]);return dn=function(){return e},e}function mn(){var e=Object(I.a)(["\n  query GetCategories($budgetID: ID!) {\n    categories(budgetID: $budgetID) {\n      id\n      name\n      envelope {\n        id\n        name\n      }\n      description\n    }\n  }\n"]);return mn=function(){return e},e}un.defaultProps={inline:0};var bn=N()(mn()),fn=N()(dn()),pn=N()(sn());function gn(){var e=Se().selectedBudget;return Object(T.b)(bn,{variables:{budgetID:e.id}})}function vn(e){var t=e.formData,n=gn(),a=Ue().expenses;return r.a.createElement(zt,{query:n},(function(e){var n=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("small",{className:"d-flex align-items-center"},a.modal.labels.categories,r.a.createElement(it,{icon:rt.Plus,variant:ct.primary,size:ot.sm,onClick:function(){return t.push({category:{id:null},amount:null})}})),t.map((function(e,c){return r.a.createElement(gt.a.Group,{as:vt.a,key:e.categoryID.init()||c,className:"d-flex align-items-center"},r.a.createElement(Et.a,{sm:7},r.a.createElement(ln,{_ref:e.categoryID,defaultValue:e.categoryID.init(),allowedValues:n.categories.map((function(e){return{id:e.id,label:e.name}}))})),r.a.createElement(Et.a,null,r.a.createElement(gt.a.Control,{type:"number",required:!0,placeholder:a.modal.labels.amount,defaultValue:e.amount.init(),ref:e.amount,step:"0.01"})),r.a.createElement(Et.a,{sm:1},r.a.createElement(it,{icon:"minus",variant:"danger",size:"sm",onClick:function(){return t.removeAt(c)}})))})))}))}function En(e){var t=e.defaultValues,n=e.init,a=Object(m.a)(e,["defaultValues","init"]),c=Se().selectedBudget,o=Ue().expenses,i=re(),l=Ht({title:{$init:n.title},date:{$init:n.date},accountID:{$init:n.account.id,$default:t&&t.account.id},categories:{$init:n.categories,$model:function(e){return{categoryID:{$init:e.category.id},amount:{$init:Qt.format(e.amount,!1),$process:Qt.parse},$includeAllValues:!0}}}}),u=on.parse(c.currentMonth.month),s=u.firstDay(),d=u.lastDay();return r.a.createElement(jt,Object.assign({formData:l},a),r.a.createElement(zt,{query:i},(function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,{label:o.modal.labels.title,inline:10,formData:l.title,feedback:"Provide name",required:!0}),r.a.createElement(yt,{label:o.modal.labels.date,inline:10,formData:l.date,feedback:"Provide date",type:"date",required:!0,min:s.format(),max:d.format()}),r.a.createElement(un,{label:o.modal.labels.account,size:9},r.a.createElement(ln,{_ref:l.accountID,defaultValue:l.accountID.default(),allowedValues:t.accounts.map((function(e){return{id:e.id,label:e.name}}))})),r.a.createElement(vn,{formData:l.categories}))})))}function yn(e){var t=e.expense,n=function(){var e=Se().selectedBudget,t=Object(T.a)(Pe,{refetchQueries:function(){return[{query:ae,variables:{budgetID:e.id}},{query:R,variables:{budgetID:e.id}},{query:$,variables:{budgetID:e.id}}]}}),n=Object(w.a)(t),a=n[0],r=n.slice(1);return[function(t,n){a({variables:{budgetID:e.id,id:t,input:n}})}].concat(Object(D.a)(r))}(),a=Object(l.a)(n,1)[0],c=Ue().expenses;return r.a.createElement(tt,{button:function(e){return r.a.createElement(it,Object.assign({icon:rt.Edit,variant:ct.primary},e))},modalContent:function(e){return r.a.createElement(En,Object.assign({init:t,title:c.modal.editTitle,onSave:function(e){return a(t.id,e)}},e))}})}function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var hn=[{dataField:"title"},{dataField:"date"},{dataField:"account",formatter:function(e){return e.name}},{dataField:"totalAmount",formatter:Qt.format,align:"right",headerAlign:"right"},{dataField:"actions",isDummyColumn:!0,formatter:function(e,t){return r.a.createElement("span",null,r.a.createElement(yn,{expense:t}),r.a.createElement(an,{expense:t}))},style:{whiteSpace:"nowrap",width:"1%"}}],jn=function(e,t){return t%2===0&&"table-striped"},Dn={className:"background-color-white",renderer:function(e){return r.a.createElement("table",{className:"table table-sm mb-0"},r.a.createElement("tbody",null,e.categories.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"pl-3"},e.category.name),r.a.createElement("td",null,Qt.format(e.amount)))}))))}};function wn(e){var t,n=e.readTitle,a=e.createButton,c=e.accountFilter,o=e.hiddenColumns,i=Object(m.a)(e,["readTitle","createButton","accountFilter","hiddenColumns"]),l=function(){var e=Se().selectedBudget;return Object(T.b)(Ne,{variables:{budgetID:e.id}})}(),u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return e.filter(t)}),e.budget.currentMonth.expenses)}}(c?(t=c,function(e){return e.account.id===t}):function(e){return e}),s=hn.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){Object(A.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{hidden:o&&o.some((function(t){return e.dataField===t}))})}));return r.a.createElement(Lt,Object.assign({},i,{query:l,getData:u,buttons:a,columns:s,keyField:"id",expandRow:Dn,rowClasses:jn,striped:!1,readTitle:n,readColumnNames:function(e){return e.expenses.table.columns}}))}function In(e){var t=e.account,n=function(){var e=Se().selectedBudget,t=Object(T.a)(Te,{update:function(t,n){var a=n.data.createExpense,r=t.readQuery({query:Ne,variables:{budgetID:e.id}}).budget;t.writeQuery({query:Ne,variables:{budgetID:e.id},data:{budget:he({},r,{currentMonth:he({},r.currentMonth,{expenses:r.currentMonth.expenses.concat([a])})})}})},refetchQueries:function(){return[{query:ae,variables:{budgetID:e.id}},{query:R,variables:{budgetID:e.id}},{query:$,variables:{budgetID:e.id}}]}}),n=Object(w.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,input:t}})}].concat(Object(D.a)(r))}(),a=Object(l.a)(n,1)[0],c=Ue().expenses;return r.a.createElement(tt,{button:function(e){return r.a.createElement(Vt,e)},modalContent:function(e){return r.a.createElement(En,Object.assign({init:{name:null,account:{},date:null,categories:[]},defaultValues:{account:t},title:c.modal.createTitle,onSave:a},e))}})}function kn(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1];return r.a.createElement(at,null,r.a.createElement(at.Header,{readTitle:function(e){return e.sidebar.pages.accounts}}),r.a.createElement(vt.a,null,r.a.createElement(Et.a,{sm:5},r.a.createElement(nn,{onSelectAcount:function(e){return c(e)}})),r.a.createElement(Et.a,null,n?r.a.createElement(wn,{readTitle:function(e){return e.accounts.expensesTableTitle(n.name)},createButton:r.a.createElement(In,{account:n}),accountFilter:n.id,hiddenColumns:["account"]}):null)))}function Nn(e){var t=e.initEnabled,n=e.label,c=e.inline,o=e.formData,i=Object(m.a)(e,["initEnabled","label","inline","formData"]),u=Object(a.useState)(t),s=Object(l.a)(u,2),d=s[0],b=s[1],f=function(){return b((function(e){return!e}))};return r.a.createElement(gt.a.Group,{className:"mb-3",as:!!c&&vt.a},r.a.createElement(gt.a.Label,{column:!!c},r.a.createElement(gt.a.Check,{custom:!0,type:"switch"},r.a.createElement(gt.a.Check.Input,{checked:d,onChange:f}),r.a.createElement(gt.a.Check.Label,{onClick:f},n))),d&&r.a.createElement(yt.Input,Object.assign({autoFocus:!0,formData:o,inline:c},i)))}Nn.defaultProps={inline:0};var Tn=n(2),Pn=n.n(Tn),Cn=Pn.a.number,xn=Pn.a.shape({id:Pn.a.string.isRequired,name:Pn.a.string.isRequired}),$n=(Pn.a.shape({id:Pn.a.string.isRequired,title:Pn.a.string.isRequired,date:Pn.a.string,totalBalance:Cn.isRequired,location:Pn.a.string,account:xn}),Pn.a.shape({id:Pn.a.string.isRequired,name:Pn.a.string.isRequired}));Pn.a.shape({id:Pn.a.string.isRequired,name:Pn.a.string.isRequired,envelope:$n});function An(e){var t=e.init,n=Object(m.a)(e,["init"]),a=Ue().envelopes,c=Ht({name:{$init:t.name},limit:{$init:Qt.format(t.limit,!1),$process:Qt.parse}});return r.a.createElement(jt,Object.assign({formData:c,autoFocusRef:c.name},n),r.a.createElement(yt,{label:a.modal.labels.name,inline:9,feedback:"Provide a name for the envelope",required:!0,formData:c.name}),r.a.createElement(Nn,{initEnabled:!!t.limit,inline:9,label:a.modal.labels.limit,feedback:"Provide a limit for the envelope",type:"number",required:!0,formData:c.limit,step:"0.01"}))}function Sn(e){var t=e.onClickRef,n=function(){var e=Se().selectedBudget,t=Object(T.a)(M,{update:function(t,n){var a=n.data.createEnvelope,r=t.readQuery({query:R,variables:{budgetID:e.id}}).envelopes;t.writeQuery({query:R,variables:{budgetID:e.id},data:{envelopes:r.concat([a])}})}}),n=Object(w.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,input:t}})}].concat(Object(D.a)(r))}(),a=Object(l.a)(n,1)[0],c=Ue().envelopes;return r.a.createElement(tt,{onClickRef:t,button:function(e){return r.a.createElement(Vt,e)},modalContent:function(e){return r.a.createElement(An,Object.assign({title:c.modal.createTitle,init:{name:"",limit:null},onSave:a},e))}})}function Bn(e){var t=e.envelope,n=function(){var e=Se().selectedBudget,t=Object(T.a)(F),n=Object(w.a)(t),a=n[0],r=n.slice(1);return[function(t,n){a({variables:{budgetID:e.id,id:t,input:n}})}].concat(Object(D.a)(r))}(),a=Object(l.a)(n,1)[0],c=Ue().envelopes,o=function(e){a(t.id,e)};return r.a.createElement(tt,{button:function(e){return r.a.createElement(it,Object.assign({icon:rt.Edit,variant:ct.primary},e))},modalContent:function(e){return r.a.createElement(An,Object.assign({title:c.modal.editTitle,init:t,onSave:o},e))}})}var qn=[{dataField:"name",sort:!0},{dataField:"limit",formatter:Qt.format,align:"right",headerAlign:"right"},{dataField:"balance",formatter:Qt.format,align:"right",headerAlign:"right"},{dataField:"overLimit",align:"right",headerAlign:"right",formatter:function(e,t){return null!==t.limit&&t.limit<t.balance?Qt.format(t.balance-t.limit):""}},{dataField:"actions",isDummyColumn:!0,formatter:function(e,t){return r.a.createElement("span",null,r.a.createElement(Bn,{envelope:t}),r.a.createElement(it,{icon:rt.Archive,variant:ct.secondary}))},style:{whiteSpace:"nowrap",width:"1%"}}],Rn=[{dataField:"name",order:"asc"}];function Mn(e){var t=e.createFunRef,n=_();return r.a.createElement(Lt,{query:n,buttons:r.a.createElement(Sn,{openRef:t}),getData:function(e){return e.envelopes},columns:qn,keyField:"id",readTitle:function(e){return e.envelopes.table.title},readColumnNames:function(e){return e.envelopes.table.columns},defaultSorted:Rn})}function Fn(e){var t=e.init,n=Object(m.a)(e,["init"]),a=_(),c=Ue().categories,o=Ht({name:{$init:t.name},envelopeID:{$init:t.envelope.id},description:{$init:t.description}});return r.a.createElement(jt,Object.assign({autoFocusRef:o.name,formData:o},n),r.a.createElement(zt,{query:a},(function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,{label:c.modal.labels.name,inline:9,formData:o.name,feedback:"Provide name"}),r.a.createElement(un,{size:9,label:c.modal.labels.envelope},r.a.createElement(ln,{allowedValues:t.envelopes.map((function(e){return{id:e.id,label:e.name}})),_ref:o.envelopeID,defaultValue:o.envelopeID.default()})),r.a.createElement(yt,{label:c.modal.labels.description,inline:9,formData:o.description,feedback:"Provide description"}))})))}function _n(e){var t=e.onClickRef,n=function(){var e=Se().selectedBudget,t=Object(T.a)(fn,{update:function(t,n){var a=n.data.createCategory,r=t.readQuery({query:bn,variables:{budgetID:e.id}}).categories;t.writeQuery({query:bn,variables:{budgetID:e.id},data:{categories:r.concat([a])}})}}),n=Object(w.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,input:t}})}].concat(Object(D.a)(r))}(),a=Object(l.a)(n,1)[0],c=Ue().categories;return r.a.createElement(tt,{onClickRef:t,button:function(e){return r.a.createElement(Vt,e)},modalContent:function(e){return r.a.createElement(Fn,Object.assign({title:c.modal.createTitle,init:{name:"",envelope:{id:null},description:""},onSave:a},e))}})}function zn(e){var t=e.category,n=function(){var e=Se().selectedBudget,t=Object(T.a)(pn),n=Object(w.a)(t),a=n[0],r=n.slice(1);return[function(t,n){a({variables:{budgetID:e.id,id:t,input:n}})}].concat(Object(D.a)(r))}(),a=Object(l.a)(n,1)[0],c=Ue().categories,o=function(e){a(t.id,e)};return r.a.createElement(tt,{button:function(e){return r.a.createElement(it,Object.assign({icon:rt.Edit,variant:ct.primary},e))},modalContent:function(e){return r.a.createElement(Fn,Object.assign({title:c.modal.editTitle,init:t,onSave:o},e))}})}var Ln=[{dataField:"name",sort:!0},{dataField:"envelope",formatter:function(e){return e.name},sort:!0},{dataField:"description"},{dataField:"actions",isDummyColumn:!0,formatter:function(e,t){return r.a.createElement("span",null,r.a.createElement(zn,{category:t}),r.a.createElement(it,{icon:rt.Archive,variant:ct.secondary}))},style:{whiteSpace:"nowrap",width:"1%"}}],Un=[{dataField:"name",order:"asc"}];function Jn(e){var t=e.createFunRef,n=gn();return r.a.createElement(Lt,{keyField:"id",columns:Ln,buttons:r.a.createElement(_n,{openRef:t}),query:n,getData:function(e){return e.categories},readTitle:function(e){return e.categories.table.title},readColumnNames:function(e){return e.categories.table.columns},defaultSorted:Un})}var Qn=n(41),Vn={createEnvelope:"e",createCategory:"c"},Gn=function(e,t){return{createEnvelope:function(){return e.current()},createCategory:function(){return t.current()}}};function Wn(){var e=Object(a.useRef)(),t=Object(a.useRef)();return r.a.createElement(at,null,r.a.createElement(Qn.GlobalHotKeys,{keyMap:Vn,handlers:Gn(e,t)}),r.a.createElement(at.Header,{readTitle:function(e){return e.sidebar.pages.envelopes}}),r.a.createElement(Mn,{createFunRef:e}),r.a.createElement(Jn,{createFunRef:t}))}function Kn(){return r.a.createElement(at,null,r.a.createElement(at.Header,{readTitle:function(e){return e.sidebar.pages.expenses}}),r.a.createElement(wn,{readTitle:function(e){return e.expenses.table.title},createButton:r.a.createElement(In,null)}))}var Hn=[{dataField:"title"},{dataField:"fromAccount",formatter:function(e){return e&&e.name}},{dataField:"toAccount",formatter:function(e){return e.name}},{dataField:"amount",align:"right",headerAlign:"right",formatter:Qt.format},{dataField:"date",align:"right",headerAlign:"right"},{dataField:"actions",isDummyColumn:!0,formatter:function(e,t){return r.a.createElement("span",null,r.a.createElement(Xn,{transfer:t}),r.a.createElement(Yn,{transfer:t}))},style:{whiteSpace:"nowrap",width:"1%"}}];function Zn(e){var t=e.init,n=Object(m.a)(e,["init"]),a=Se().selectedBudget,c=Ue().transfers,o=re(),i=Ht({title:{$init:t.title},date:{$init:t.date},amount:{$init:Qt.format(t.amount,!1),$process:Qt.parse},fromAccountID:{$init:t.fromAccount&&t.fromAccount.id,$process:function(e){return""===e?null:e}},toAccountID:{$init:t.toAccount.id}}),l=on.parse(a.currentMonth.month),u=l.firstDay(),s=l.lastDay();return r.a.createElement(jt,Object.assign({formData:i,autoFocusRef:i.title},n),r.a.createElement(zt,{query:o},(function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,{required:!0,label:c.modal.labels.title,inline:10,formData:i.title,feedback:"Provide title"}),r.a.createElement(yt,{label:c.modal.labels.date,inline:10,formData:i.date,feedback:"Provide date",type:"date",required:!0,min:u.format(),max:s.format()}),r.a.createElement(yt,{inline:10,label:c.modal.labels.amount,feedback:"Provide amount",type:"number",required:!0,formData:i.amount,step:"0.01"}),r.a.createElement(un,{size:10,label:c.modal.labels.fromAccount},r.a.createElement(ln,{allowedValues:t.accounts.map((function(e){return{id:e.id,label:e.name}})),_ref:i.fromAccountID,defaultValue:i.fromAccountID.default()})),r.a.createElement(un,{size:10,label:c.modal.labels.toAccount},r.a.createElement(ln,{allowedValues:t.accounts.map((function(e){return{id:e.id,label:e.name}})),_ref:i.toAccountID,defaultValue:i.toAccountID.default()})))})))}function Yn(e){var t=e.transfer,n=function(){var e=Se().selectedBudget,t=Object(T.a)(Ee,{update:function(t,n){var a=n.data.deleteTransfer,r=t.readQuery({query:pe,variables:{budgetID:e.id}}).budget;t.writeQuery({query:pe,variables:{budgetID:e.id},data:{budget:se({},r,{currentMonth:se({},r.currentMonth,{transfers:z(r.currentMonth.transfers,a.id)})})}})},refetchQueries:function(){return[{query:ae,variables:{budgetID:e.id}},{query:$,variables:{budgetID:e.id}}]}}),n=Object(w.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,id:t}})}].concat(Object(D.a)(r))}(),a=Object(l.a)(n,1)[0];return r.a.createElement(it,{icon:rt.Trash,variant:ct.secondary,onClick:function(){return a(t.id)}})}function Xn(e){var t=e.transfer,n=function(){var e=Se().selectedBudget,t=Object(T.a)(ve,{refetchQueries:function(){return[{query:ae,variables:{budgetID:e.id}},{query:$,variables:{budgetID:e.id}}]}}),n=Object(w.a)(t),a=n[0],r=n.slice(1);return[function(t,n){a({variables:{budgetID:e.id,id:t,input:n}})}].concat(Object(D.a)(r))}(),a=Object(l.a)(n,1)[0],c=Ue().transfers;return r.a.createElement(tt,{button:function(e){return r.a.createElement(it,Object.assign({icon:rt.Edit,variant:ct.primary},e))},modalContent:function(e){return r.a.createElement(Zn,Object.assign({init:t,title:c.modal.editTitle,onSave:function(e){return a(t.id,e)}},e))}})}function ea(e){var t=e.openRef,n=function(){var e=Se().selectedBudget,t=Object(T.a)(ge,{update:function(t,n){var a=n.data.createTransfer,r=t.readQuery({query:pe,variables:{budgetID:e.id}}).budget;t.writeQuery({query:pe,variables:{budgetID:e.id},data:{budget:se({},r,{currentMonth:se({},r.currentMonth,{transfers:r.currentMonth.transfers.concat([a])})})}})},refetchQueries:function(){return[{query:ae,variables:{budgetID:e.id}},{query:$,variables:{budgetID:e.id}}]}}),n=Object(w.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,input:t}})}].concat(Object(D.a)(r))}(),a=Object(l.a)(n,1)[0],c=Ue().transfers;return r.a.createElement(tt,{button:function(e){return r.a.createElement(Vt,Object.assign({},e,{ref:t}))},modalContent:function(e){return r.a.createElement(Zn,Object.assign({init:{title:null,fromAccount:{id:null},toAccount:{id:null},amount:null,date:null},title:c.modal.createTitle,onSave:a},e))}})}var ta={openModal:"n"},na=function(e){return{openModal:function(){return e.current.click()}}};function aa(){var e=function(){var e=Se().selectedBudget;return Object(T.b)(pe,{variables:{budgetID:e.id}})}(),t=Object(a.useRef)();return r.a.createElement(at,null,r.a.createElement(Qn.GlobalHotKeys,{keyMap:ta,handlers:na(t)}),r.a.createElement(at.Header,{readTitle:function(e){return e.sidebar.pages.transfers}}),r.a.createElement(Lt,{query:e,getData:function(e){return e.budget.currentMonth.transfers},buttons:r.a.createElement(ea,{openRef:t}),columns:Hn,keyField:"id",readTitle:function(e){return e.transfers.table.title},readColumnNames:function(e){return e.transfers.table.columns}}))}var ra=[{dataField:"title"},{dataField:"fromEnvelope",formatter:function(e){return e&&e.name}},{dataField:"toEnvelope",formatter:function(e){return e.name}},{dataField:"currentAmount",formatter:Qt.format,align:"right",headerAlign:"right"},{dataField:"recurringAmount",formatter:function(e){return null!==e?r.a.createElement("i",{className:"fas fa-fw fa-sync-alt"}):null}},{dataField:"actions",isDummyColumn:!0,formatter:function(e,t){return r.a.createElement("span",null,r.a.createElement(oa,{plan:t}),r.a.createElement(ia,{plan:t}))},style:{whiteSpace:"nowrap",width:"1%"}}];function ca(e){var t=e.init,n=Object(m.a)(e,["init"]),a=_(),c=Ue().plans,o=Ht({title:{$init:t.title},currentAmount:{$init:Qt.format(t.currentAmount,!1),$process:Qt.parse},recurringAmount:{$init:Qt.format(t.recurringAmount,!1),$default:function(e){return Qt.format(e.currentAmount.value())},$process:Qt.parse},fromEnvelopeID:{$init:null!==t.fromEnvelope?t.fromEnvelope.id:"",$process:function(e){return""===e?null:e}},toEnvelopeID:{$init:t.toEnvelope.id}});return r.a.createElement(jt,Object.assign({formData:o,autoFocusRef:o.title},n),r.a.createElement(zt,{query:a},(function(e){var n=e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,{required:!0,label:c.modal.labels.title,inline:10,formData:o.title,feedback:"Provide title"}),r.a.createElement(yt,{inline:8,label:c.modal.labels.amount,feedback:"Provide amount",type:"number",required:!0,formData:o.currentAmount,step:"0.01"}),r.a.createElement(Nn,{initEnabled:null!==t.recurringAmount,inline:8,label:c.modal.labels.recurring,feedback:"Provide amount for recurring plans",type:"number",required:!0,formData:o.recurringAmount,step:"0.01"}),r.a.createElement(un,{size:8,label:c.modal.labels.fromEnvelope},r.a.createElement(ln,{_ref:o.fromEnvelopeID,defaultValue:o.fromEnvelopeID.default(),allowedValues:n.envelopes.map((function(e){return{id:e.id,label:e.name}}))})),r.a.createElement(un,{size:8,label:c.modal.labels.toEnvelope},r.a.createElement(ln,{_ref:o.toEnvelopeID,defaultValue:o.toEnvelopeID.default(),allowedValues:n.envelopes.map((function(e){return{id:e.id,label:e.name}}))})))})))}function oa(e){var t=e.plan,n=function(){var e=Se().selectedBudget,t=Object(T.a)(Y,{refetchQueries:function(){return[{query:R,variables:{budgetID:e.id}},{query:$,variables:{budgetID:e.id}}]}}),n=Object(w.a)(t),a=n[0],r=n.slice(1);return[function(t,n){a({variables:{budgetID:e.id,id:t,input:n}})}].concat(Object(D.a)(r))}(),a=Object(l.a)(n,1)[0],c=Ue().plans;return r.a.createElement(tt,{button:function(e){return r.a.createElement(it,Object.assign({icon:rt.Edit,variant:ct.primary},e))},modalContent:function(e){return r.a.createElement(ca,Object.assign({init:t,title:c.modal.editTitle,onSave:function(e){return a(t.id,e)}},e))}})}function ia(e){var t=e.plan,n=function(){var e=Se().selectedBudget,t=Object(T.a)(X,{update:function(t,n){var a=n.data.deletePlan,r=t.readQuery({query:H,variables:{budgetID:e.id}}).budget;t.writeQuery({query:H,variables:{budgetID:e.id},data:{budget:Q({},r,{currentMonth:Q({},r.currentMonth,{plans:z(r.currentMonth.plans,a.id)})})}})},refetchQueries:function(){return[{query:R,variables:{budgetID:e.id}},{query:$,variables:{budgetID:e.id}}]}}),n=Object(w.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,id:t}})}].concat(Object(D.a)(r))}(),a=Object(l.a)(n,1)[0];return r.a.createElement(it,{icon:rt.Trash,variant:ct.secondary,onClick:function(){return a(t.id)}})}function la(e){var t=e.openRef,n=function(){var e=Se().selectedBudget,t=Object(T.a)(Z,{update:function(t,n){var a=n.data.createPlan,r=t.readQuery({query:H,variables:{budgetID:e.id}}).budget;t.writeQuery({query:H,variables:{budgetID:e.id},data:{budget:Q({},r,{currentMonth:Q({},r.currentMonth,{plans:r.currentMonth.plans.concat([a])})})}})},refetchQueries:function(){return[{query:R,variables:{budgetID:e.id}},{query:$,variables:{budgetID:e.id}}]}}),n=Object(w.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,input:t}})}].concat(Object(D.a)(r))}(),a=Object(l.a)(n,1)[0],c=Ue().plans;return r.a.createElement(tt,{button:function(e){return r.a.createElement(Vt,Object.assign({ref:t},e))},renderModal:function(e){return r.a.createElement(ca,Object.assign({init:{title:null,fromEnvelope:{id:null},toEnvelope:{id:null},currentAmount:null,recurringAmount:null,date:null},title:c.modal.createTitle,onSave:a},e))}})}var ua={create:"n"},sa=function(e){return{create:function(){return e.current()}}};function da(){var e=Object(a.useRef)(),t=function(){var e=Se().selectedBudget;return Object(T.b)(H,{variables:{budgetID:e.id}})}();return r.a.createElement(at,null,r.a.createElement(Qn.GlobalHotKeys,{keyMap:ua,handlers:sa(e)}),r.a.createElement(at.Header,{readTitle:function(e){return e.sidebar.pages.plans}}),r.a.createElement(Lt,{query:t,getData:function(e){return e.budget.currentMonth.plans},buttons:r.a.createElement(la,{openRef:e}),columns:ra,keyField:"id",readTitle:function(e){return e.plans.table.title},readColumnNames:function(e){return e.plans.table.columns}}))}function ma(e){var t=e.className,n=e.variant,a=e.title,c=e.value,o=e.faIcon;return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"card border-left-".concat(n," shadow h-100 py-2")},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col mr-2"},r.a.createElement("div",{className:"text-xs font-weight-bold text-".concat(n," text-uppercase mb-1")},a),r.a.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},c)),r.a.createElement("div",{className:"col-auto"},r.a.createElement("i",{className:"fas fa-".concat(o," fa-2x text-gray-300")}))))))}function ba(e){var t=e.className,n=e.month,a=Ue().dashboard;return r.a.createElement("div",{className:t},r.a.createElement(vt.a,null,r.a.createElement(ma,{className:"col-6 col-lg-12 mb-4",variant:"primary",title:a.planned,value:Qt.format(n.totalPlannedAmount),faIcon:"clipboard-list"}),r.a.createElement(ma,{className:"col-6 col-lg-12 mb-4",variant:"primary",title:a.incomes,value:Qt.format(n.totalIncomeAmount),faIcon:"briefcase"}),r.a.createElement(ma,{className:"col-6 col-lg-12 mb-4",variant:"primary",title:a.leftToPlan,value:Qt.format(n.totalIncomeAmount-n.totalPlannedAmount),faIcon:"balance-scale"}),r.a.createElement(ma,{className:"col-6 col-lg-12 mb-4",variant:"primary",title:a.expenses,value:Qt.format(n.totalExpenseAmount),faIcon:"receipt"})))}var fa={ERROR:"exclamation-circle",WARNING:"exclamation-triangle",INFO:"info-circle"},pa={ERROR:"danger",WARNING:"warning",INFO:"primary"};function ga(e){var t=e.problem,n=_(),a=re(),c=Ue().dashboard;return r.a.createElement(zt,{query:n},(function(e){var n=e.data;return r.a.createElement(zt,{query:a},(function(e){var a=e.data;return"Misplanned"===t.__typename?t.overplanned?c.problems.overplanned:c.problems.underplanned:"NegativeBalanceOnEnvelope"===t.__typename?c.problems.expensesExceedPlans(n.envelopes.find((function(e){return e.id===t.id})).name):"EnvelopeOverLimit"===t.__typename?c.problems.envelopeOverLimit(n.envelopes.find((function(e){return e.id===t.id})).name):"NegativeBalanceOnAccount"===t.__typename?c.problems.negativeAccountBalance(a.accounts.find((function(e){return e.id===t.id})).name):"MonthStillInProgress"===t.__typename?c.problems.monthNotEnded:t.__typename}))}))}function va(e){var t=e.problem;return r.a.createElement("li",{className:"list-group-item text-".concat(pa[t.severity])},r.a.createElement("i",{className:"fas fa-fw fa-".concat(fa[t.severity]," mr-1")}),r.a.createElement(ga,{problem:t}))}function Ea(){var e=Ue().dashboard;return r.a.createElement("li",{className:"list-group-item text-success"},r.a.createElement("i",{className:"fas fa-fw fa-check-circle mr-1"}),e.noProblems)}function ya(e){var t=e.className,n=e.problems;return r.a.createElement(Ve,{className:t},r.a.createElement(Ve.Header,null,r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement(Ve.Title,{readTitle:function(e){return e.dashboard.problems.title}}))),r.a.createElement(Ve.Body,null,r.a.createElement("ul",{className:"list-group list-group-flush"},n.length>0?n.map((function(e,t){return r.a.createElement(va,{key:t,problem:e})})):r.a.createElement(Ea,null))))}function Oa(e){var t=e.disabled,n=e.warn,a=function(){var e=Se().selectedBudget,t=Object(T.a)(Me,{refetchQueries:function(){return[{query:$,variables:{budgetID:e.id}},{query:H,variables:{budgetID:e.id}},{query:pe,variables:{budgetID:e.id}},{query:Ne,variables:{budgetID:e.id}}]}}),n=Object(w.a)(t),a=n[0],r=n.slice(1);return[function(t){a({variables:{budgetID:e.id,input:t}})}].concat(Object(D.a)(r))}(),c=Object(l.a)(a,1)[0],o=Ue().dashboard;return r.a.createElement(lt,{icon:rt.ClipboardCheck,variant:t?ct.secondary:n?ct.warning:ct.success,disabled:t,onClick:function(){return c()}},o.buttons.closeMonth)}function ha(e){var t=e.className,n=e.month,a=Ue(),c=a.dashboard,o=a.months,i=on.parse(n.month);return r.a.createElement(Ve,{className:t},r.a.createElement(Ve.Header,null,r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement(Ve.Title,{title:r.a.createElement("span",null,c.currentMonth,":"," ",r.a.createElement("strong",null,r.a.createElement("em",null,o[i.month-1]," ",i.year)))}),r.a.createElement("div",null,r.a.createElement(Oa,{disabled:n.problems.some((function(e){return"ERROR"===e.severity})),warn:n.problems.length>0})))))}function ja(){var e=function(){var e=Se().selectedBudget;return Object(T.b)($,{variables:{budgetID:e.id},fetchPolicy:"network-only"})}();return r.a.createElement(at,null,r.a.createElement(zt,{query:e},(function(e){var t=e.data;return r.a.createElement(vt.a,null,r.a.createElement(ha,{className:"col-12 d-lg-none px-0",month:t.budget.currentMonth}),r.a.createElement(ba,{className:"col-12 col-lg-3",month:t.budget.currentMonth}),r.a.createElement(ya,{className:"col-12 d-lg-none px-0",problems:t.budget.currentMonth.problems}),r.a.createElement(vt.a,{className:"col-12 col-lg-9 flex-lg-column"},r.a.createElement(ha,{className:"d-none d-lg-block",month:t.budget.currentMonth}),r.a.createElement(ya,{className:"d-none d-lg-block flex-grow-1",problems:t.budget.currentMonth.problems})))})))}var Da={buttons:{create:"Dodaj",cancel:"Anuluj",save:"Zapisz"},sidebar:{sections:{currentMonth:"Bie\u017c\u0105cy miesi\u0105c",budget:"Bud\u017cet"},pages:{dashboard:"Podsumowanie",expenses:"Wydatki",transfers:"Przelewy",plans:"Plany",accounts:"Konta",envelopes:"Koperty"}},topbar:{budgetLabel:"Bud\u017cet",alertsLabel:"Powiadomienia",messagesLabel:"Wiadomo\u015bci"},dashboard:{planned:"Zaplanowano",incomes:"Wp\u0142ywy",leftToPlan:"Pozosta\u0142o do zaplanowania",expenses:"Wydatki",currentMonth:"Bie\u017c\u0105cy miesi\u0105c",noProblems:"Wszystko w porz\u0105dku",problems:{title:"Problemy",overplanned:"Plany na bie\u017c\u0105cy miesi\u0105c przekraczaj\u0105 wydatki",underplanned:"Cz\u0119\u015b\u0107 \u015brodk\xf3w jest nierozplanowana",expensesExceedPlans:function(e){return'Wydatki przekroczy\u0142y zaplanowany bud\u017cet na kopercie "'.concat(e,'"')},envelopeOverLimit:function(e){return'Limit dla koperty "'.concat(e,'" zosta\u0142 przekroczony')},negativeAccountBalance:function(e){return'Bilans na koncie "'.concat(e,'" jest ujemny')},monthNotEnded:"Miesi\u0105c si\u0119 jeszcze nie sko\u0144czy\u0142"},buttons:{closeMonth:"Zamknij miesi\u0105c"}},accounts:{table:{title:"Konta",columns:{balance:"Bilans",name:"Nazwa"}},expensesTableTitle:function(e){return'Wydatki dla konta "'.concat(e,'"')},modal:{createTitle:"Dodaj nowe konto",editTitle:"Edytuj konto",labels:{name:"Nazwa"}}},envelopes:{table:{title:"Koperty",columns:{balance:"Bilans",name:"Nazwa",limit:"Limit",overLimit:"Ponad limit"}},modal:{createTitle:"Dodaj now\u0105 kopert\u0119",editTitle:"Edytuj kopert\u0119",labels:{name:"Nazwa",limit:"Limit"}}},categories:{table:{title:"Kategorie",columns:{name:"Nazwa",envelope:"Koperta",description:"Opis"}},modal:{createTitle:"Dodaj now\u0105 kategori\u0119",editTitle:"Edytuj kategori\u0119",labels:{name:"Nazwa",envelope:"Koperta",description:"Opis"}}},plans:{table:{title:"Plany",columns:{title:"Tytu\u0142",fromEnvelope:"Z",toEnvelope:"Do",currentAmount:"Kwota"}},modal:{createTitle:"Dodaj nowy plan",editTitle:"Edytuj plan",labels:{title:"Tytu\u0142",fromEnvelope:"Z",toEnvelope:"Do",amount:"Kwota",recurring:"Cyklicznie"}}},transfers:{table:{title:"Przelewy",columns:{title:"Tytu\u0142",fromAccount:"Z",toAccount:"Do",amount:"Kwota",date:"Data"}},modal:{createTitle:"Dodaj nowy przelew",editTitle:"Edytuj przelew",labels:{title:"Tytu\u0142",fromAccount:"Z",toAccount:"Do",amount:"Kwota",date:"Data"}}},expenses:{table:{title:"Wydatki",columns:{title:"Tytu\u0142",totalAmount:"Kwota",date:"Data",account:"Konto"}},modal:{createTitle:"Dodaj nowy wydatek",editTitle:"Edytuj wydatek",labels:{title:"Tytu\u0142",fromAccount:"Z",toAccount:"Do",account:"Konto",date:"Data",categories:"Kategorie",amount:"Kwota",category:"Kategoria"}}},months:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"]},wa={pl:Da};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(160);var Ia=n(35),ka=n(54),Na=n(91),Ta=n(21),Pa=(n(3),n(90)),Ca=n(89),xa=n(88),$a=n(22);function Aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(n),!0).forEach((function(t){Object(A.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ba=new ka.b({introspectionQueryResultData:xa});function qa(e){var t="https://sjanota-budget.herokuapp.com/query",n=Object(Na.a)({uri:t}),a=Object(Ca.a)((function(t,n){return{headers:Sa({},n.headers,{authorization:e?"Bearer ".concat(e):""})}})),r=new ka.a({fragmentMatcher:Ba}),c=Object(Pa.a)((function(e){var t=e.graphQLErrors,n=e.networkError;"production"!==Object({NODE_ENV:"production",PUBLIC_URL:"/budget-ui",REACT_APP_GQL_URL:"https://sjanota-budget.herokuapp.com/query"}).REACT_APP_ENV&&(t&&t.map((function(e){var t=e.message,n=e.locations,a=e.path;return console.log("[GraphQL error]: Message: ".concat(t,", Location: ").concat(n,", Path: ").concat(a))})),n&&console.log("[Network error]: ".concat(n)))})),o=a.concat(n);return new Ia.c({uri:t,cache:r,link:Ta.a.from([c,o]),connectToDevTools:!0})}function Ra(e){var t=e.children,n=At(),c=n.isAuthenticated,o=n.loading,i=n.loginWithRedirect,l=n.token;return Object(a.useEffect)((function(){o||c||i({})}),[c,i,o]),o?r.a.createElement("div",null,"Loading..."):c&&l?r.a.createElement($a.a,{client:qa(l)},t):r.a.createElement("div",null)}var Ma=n(55);var Fa=function(e){window.history.replaceState({},document.title,e&&e.targetUrl?e.targetUrl:window.location.pathname)},_a="".concat(window.location.origin).concat("/budget-ui"),za="true"!==Object({NODE_ENV:"production",PUBLIC_URL:"/budget-ui",REACT_APP_GQL_URL:"https://sjanota-budget.herokuapp.com/query"}).REACT_APP_INSECURE_AUTH_DISABLED?function(e){var t=e.children;return r.a.createElement(St,{domain:Ma.domain,client_id:Ma.clientId,redirect_uri:_a,onRedirectCallback:Fa,audience:Ma.audience,scope:"beta",returnTo:_a},r.a.createElement(Ra,null,t))}:function(e){var t=e.children;return r.a.createElement($t.Provider,{value:{isAuthenticated:!0,loading:!1,loginWithRedirect:function(){},user:{name:"Valerie Luna",picture:"https://source.unsplash.com/QAB-WJcbgJk/60x60",locale:"pl"},getTokenScopes:function(){return Promise.resolve(["beta"])},logout:function(){}}},r.a.createElement($a.a,{client:qa()},t))};o.a.render(r.a.createElement(za,null,r.a.createElement((function(e){var t=e.children,n=At().getTokenScopes,c=Object(a.useState)(),o=Object(l.a)(c,2),i=o[0],u=o[1];return Object(a.useEffect)((function(){n().then(u)}),[u,n]),i?i.some((function(e){return"beta"===e}))?t:r.a.createElement("div",null,"This conent is available only to beta users"):r.a.createElement("div",null)}),null,r.a.createElement(ut.a,{basename:"/budget-ui"},r.a.createElement((function(){var e=At(),t=e.user,n=e.logout;return r.a.createElement(Re,null,r.a.createElement(pt,{sidebarProps:{renderBrandName:function(){return"Budget"},renderBrandIcon:function(){return r.a.createElement("i",{className:"fas fa-bold"})},config:qt(Da)},topbar:Bt,copyright:"Budget 2019",dictionaries:wa,user:t,logout:n},r.a.createElement(Ae.Consumer,null,(function(e){return e.selectedBudget&&r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/accounts",component:kn}),r.a.createElement(i.a,{path:"/envelopes",component:Wn}),r.a.createElement(i.a,{path:"/expenses",component:Kn}),r.a.createElement(i.a,{path:"/transfers",component:aa}),r.a.createElement(i.a,{path:"/plans",component:da}),r.a.createElement(i.a,{path:"/",component:ja}))}))))}),null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e){e.exports=JSON.parse('{"domain":"damp-pond-6290.eu.auth0.com","clientId":"_6lsGfwDBhCDVdGg6_kpHvAX-BAGYST7","audience":"https://backend/api"}')},88:function(e){e.exports=JSON.parse('{"__schema":{"types":[{"kind":"INPUT_OBJECT","name":"EnvelopeUpdate","possibleTypes":[]},{"kind":"OBJECT","name":"Budget","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"PlanUpdate","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"ExpenseCategoryInput","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"CategoryUpdate","possibleTypes":[]},{"kind":"OBJECT","name":"Envelope","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"EnvelopeInput","possibleTypes":[]},{"kind":"INTERFACE","name":"Problem","possibleTypes":[{"name":"Misplanned"},{"name":"NegativeBalanceOnAccount"},{"name":"NegativeBalanceOnEnvelope"},{"name":"EnvelopeOverLimit"},{"name":"MonthStillInProgress"}]},{"kind":"OBJECT","name":"Expense","possibleTypes":[]},{"kind":"OBJECT","name":"MonthlyReport","possibleTypes":[]},{"kind":"OBJECT","name":"Misplanned","possibleTypes":[]},{"kind":"SCALAR","name":"Int","possibleTypes":[]},{"kind":"SCALAR","name":"Boolean","possibleTypes":[]},{"kind":"SCALAR","name":"Month","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"TransferInput","possibleTypes":[]},{"kind":"SCALAR","name":"String","possibleTypes":[]},{"kind":"OBJECT","name":"Account","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"TransferUpdate","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"CategoryInput","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"PlanInput","possibleTypes":[]},{"kind":"OBJECT","name":"ExpenseCategory","possibleTypes":[]},{"kind":"OBJECT","name":"NegativeBalanceOnAccount","possibleTypes":[]},{"kind":"OBJECT","name":"NegativeBalanceOnEnvelope","possibleTypes":[]},{"kind":"SCALAR","name":"Float","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"AccountUpdate","possibleTypes":[]},{"kind":"OBJECT","name":"Query","possibleTypes":[]},{"kind":"OBJECT","name":"Mutation","possibleTypes":[]},{"kind":"OBJECT","name":"Category","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"ExpenseUpdate","possibleTypes":[]},{"kind":"OBJECT","name":"MonthStillInProgress","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"ExpenseInput","possibleTypes":[]},{"kind":"ENUM","name":"Severity","possibleTypes":[]},{"kind":"OBJECT","name":"EnvelopeOverLimit","possibleTypes":[]},{"kind":"SCALAR","name":"ID","possibleTypes":[]},{"kind":"SCALAR","name":"Date","possibleTypes":[]},{"kind":"OBJECT","name":"Plan","possibleTypes":[]},{"kind":"SCALAR","name":"Amount","possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"AccountInput","possibleTypes":[]},{"kind":"OBJECT","name":"Transfer","possibleTypes":[]}]}}')},93:function(e,t,n){e.exports=n(161)},98:function(e,t,n){},99:function(e,t,n){}},[[93,1,2]]]);
//# sourceMappingURL=main.7b075b89.chunk.js.map